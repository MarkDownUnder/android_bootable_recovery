<?xml version="1.0"?>

<recovery>
	<details>
		<resolution width="480" height="800" />
		<author>xda</author>
		<title>Extended-TWRP-Red base on Dark_Avenger's Holo Dark</title>
		<description>Default basic theme</description>
		<preview>preview.png</preview>
	</details>

	<resources>
		<resource name="font" type="font" filename="Roboto-Regular-20" />
		<resource name="font_small" type="font" filename="Roboto-Regular-16" />
		<resource name="font_big" type="font" filename="Roboto-Regular-25" />
		<resource name="mediumfont" type="font" filename="Roboto-Regular-20" />
		<resource name="filelist" type="font" filename="Roboto-Regular-20" />
		<resource name="top_bar" type="image" filename="top-bar" />
		<resource name="background" type="image" filename="background" />
		<resource name="main_button" type="image" filename="menu-button" />
		<resource name="file_icon" type="image" filename="file" />
		<resource name="folder_icon" type="image" filename="folder" />
		<resource name="slideout" type="image" filename="slideout" />
		<resource name="progress" type="animation" filename="indeterminate" />
		<resource name="progress_empty" type="image" filename="progress_empty" />
		<resource name="progress_full" type="image" filename="progress_fill" />
		<resource name="checkbox_false" type="image" filename="checkbox_empty" />
		<resource name="checkbox_true" type="image" filename="checkbox_checked" />
		<resource name="radio_false" type="image" filename="radio_empty" />
		<resource name="radio_true" type="image" filename="radio_selected" />
		<resource name="medium_button" type="image" filename="medium-button" />
		<resource name="sort_button" type="image" filename="sort-button" />
		<resource name="minus_button" type="image" filename="minus-button" />
		<resource name="plus_button" type="image" filename="plus-button" />
		<resource name="ext-minus_button" type="image" filename="ext-minus-button" />
		<resource name="ext-plus_button" type="image" filename="ext-plus-button" />
		<resource name="home_icon" type="image" filename="home-icon" />
		<resource name="back_icon" type="image" filename="back-icon" />
		<resource name="slider" type="image" filename="slider" />
		<resource name="slider-used" type="image" filename="slider-used" />
		<resource name="slider-touch" type="image" filename="slider-touch" />
		<resource name="unlock-icon" type="image" filename="unlock" />
		<resource name="keyboard1" type="image" filename="keyboard1" />
		<resource name="keyboard2" type="image" filename="keyboard2" />
		<resource name="keyboard3" type="image" filename="keyboard3" />
		<resource name="keyboard4" type="image" filename="keyboard4" />

		<resource name="ext_main_button_big" type="image" filename="ext-menu-button-big" />
		<resource name="ext_main_button_big2" type="image" filename="ext-menu-button-big2" />
		<resource name="ext_main_button_small" type="image" filename="ext-menu-button-small" />
		<resource name="ext_main_button_small2" type="image" filename="ext-menu-button-small2" />
	</resources>

	<variables>
		<variable name="col1_x" value="10" />
		<variable name="col2_x" value="240" />
		<variable name="col_center_x" value="142" />
		<variable name="col_center_medium_x" value="185" />
		<variable name="center_x" value="240" />
		<variable name="row1_y" value="140" />
		<variable name="row2_y" value="290" />
		<variable name="row3_y" value="450" />
		<variable name="row4_y" value="610" />
		<variable name="row_queue_y" value="510" />
		<variable name="row1_header_y" value="110" />
		<variable name="row1_text_y" value="140" />
		<variable name="row2_text_y" value="170" />
		<variable name="row3_text_y" value="200" />
		<variable name="row4_text_y" value="230" />
		<variable name="row5_text_y" value="260" />
		<variable name="row6_text_y" value="290" />
		<variable name="row7_text_y" value="320" />
		<variable name="row8_text_y" value="350" />
		<variable name="row9_text_y" value="380" />
		<variable name="row10_text_y" value="410" />
		<variable name="row11_text_y" value="440" />
		<variable name="row12_text_y" value="470" />
		<variable name="row13_text_y" value="500" />
		<variable name="row14_text_y" value="530" />
		<variable name="row15_text_y" value="560" />
		<variable name="row16_text_y" value="590" />
		<variable name="row17_text_y" value="620" />
		<variable name="row18_text_y" value="650" />
		<variable name="row19_text_y" value="680" />
		<variable name="row20_text_y" value="710" />
		<variable name="zip_status_y" value="585" />
		<variable name="tz_selected_y" value="110" />
		<variable name="tz_set_y" value="590" />
		<variable name="tz_current_y" value="730" />
		<variable name="col_progressbar_x" value="114" />
		<variable name="row_progressbar_y" value="720" />
		<variable name="col1_medium_x" value="10" />
		<variable name="col2_medium_x" value="125" />
		<variable name="col3_medium_x" value="240" />
		<variable name="col4_medium_x" value="355" />
		<variable name="row1_medium_y" value="130" />
		<variable name="row2_medium_y" value="205" />
		<variable name="row3_medium_y" value="280" />
		<variable name="row4_medium_y" value="355" />
		<variable name="row5_medium_y" value="430" />
		<variable name="row6_medium_y" value="505" />
		<variable name="row7_medium_y" value="580" />
		<variable name="slider_x" value="58" />
		<variable name="slider_y" value="680" />
		<variable name="slider_text_y" value="695" />
		<variable name="button_text_color" value="#FFFFFF" />
		<variable name="text_color" value="#707070" />
		<variable name="text_highlight_color" value="#FFFFFF" />
		<variable name="text_success_color" value="#68b60b" />
		<variable name="text_fail_color" value="#FF0101" />
		<variable name="highlight_color" value="#90909080" />
		<variable name="home_button_x" value="10" />
		<variable name="home_button_y" value="766" />
		<variable name="back_button_x" value="413" />
		<variable name="back_button_y" value="766" />
		<variable name="sort_asc_text_y" value="685" />
		<variable name="sort_asc_button_y" value="685" />
		<variable name="sort_desc_text_y" value="725" />
		<variable name="sort_desc_button_y" value="725" />
		<variable name="sort_col1_button_x" value="180" />
		<variable name="sort_col2_button_x" value="240" />
		<variable name="sort_col3_button_x" value="300" />
		<variable name="input_width" value="460" />
		<variable name="input_height" value="40" />
		<variable name="input_background_color" value="#000000" />
		<variable name="input_cursor_color" value="#33B5E5" />
		<variable name="input_cursor_width" value="3" />
		<variable name="console_x" value="0" />
		<variable name="console_width" value="480" />
		<variable name="console_foreground" value="#FFFFFF" />
		<variable name="console_background" value="#000000" />
		<variable name="console_scroll" value="#000000" />
		<variable name="console_action_height" value="320" />
		<variable name="console_install_height" value="440" />
		<variable name="console_installdone_height" value="300" />
		<variable name="fileselector_x" value="5" />
		<variable name="fileselector_width" value="470" />
		<variable name="fileselector_install_height" value="465" />
		<variable name="fileselector_medium_height" value="310" />
		<variable name="fileselector_header_background" value="#474747" />
		<variable name="fileselector_header_textcolor" value="#FFFFFF" />
		<variable name="fileselector_header_separatorcolor" value="#FF0101" />
		<variable name="fileselector_header_separatorheight" value="3" />
		<variable name="fileselector_separatorcolor" value="#494949" />
		<variable name="fileselector_separatorheight" value="2" />
		<variable name="fileselector_background" value="#000000" />
		<variable name="fileselector_highlight_color" value="#505050" />
		<variable name="fileselector_highlight_font_color" value="#FF0101" />
		<variable name="fileselector_spacing" value="18" />
		<variable name="fastscroll_linecolor" value="#808080" />
		<variable name="fastscroll_rectcolor" value="#808080" />
		<variable name="fastscroll_w" value="40" />
		<variable name="fastscroll_linew" value="2" />
		<variable name="fastscroll_rectw" value="27" />
		<variable name="fastscroll_recth" value="47" />
		<variable name="listbox_x" value="5" />
		<variable name="listbox_width" value="470" />
		<variable name="listbox_tz_height" value="310" />
		<variable name="listbox_background" value="#000000" />
		<variable name="listbox_spacing" value="18" />
		<variable name="sd_plus_x" value="280" />
		<variable name="sdext_text_x" value="84" />
		<variable name="sdext_text_y" value="145" />
		<variable name="sdswap_button_y" value="185" />
		<variable name="sdswap_text_x" value="84" />
		<variable name="sdswap_text_y" value="190" />
		<variable name="sdfilesystem_text_y" value="240" />
		<variable name="sdfilesystem_button_y" value="280" />
		<variable name="lock_x" value="40" />
		<variable name="lock_y" value="200" />
		<variable name="filemanager_select_x" value="365" />
		<variable name="filemanager_select_y" value="690" />
		<variable name="backup_name_y" value="350" />
		<variable name="terminal_console_height" value="370" />
		<variable name="terminal_text_y" value="390" />
		<variable name="terminal_button_y" value="380" />
		<variable name="row_dst_text_y" value="440" />
		<variable name="row_offset_text_y" value="480" />
		<variable name="row_offset_medium_y" value="515" />
		<variable name="backup_list_height" value="325" />
		<variable name="backup_button_row1" value="480" />
		<variable name="backup_button_row2" value="520" />
		<variable name="mount_list_height" value="400" />
		<variable name="mount_storage_row" value="550" />
		<variable name="storage_list_height" value="400" />
		<variable name="wipe_list_height" value="530" />
		<variable name="slidervalue_w" value="460" />
		<variable name="slidervalue_line_clr" value="#FFFFFF" />
		<variable name="slidervalue_slider_clr" value="#FF0101" />
		<variable name="slidervalue_lineh" value="1" />
		<variable name="slidervalue_padding" value="10" />
		<variable name="slidervalue_sliderw" value="7" />
		<variable name="slidervalue_sliderh" value="30" />

		<variable name="ext_col1_x" value="30" />
		<variable name="ext_col2_x" value="255" />
		<variable name="ext_row1_y" value="140" />
		<variable name="ext_row2_y" value="216" />
		<variable name="ext_row3_y" value="292" />
		<variable name="ext_row4_y" value="368" />
		<variable name="ext_row5_y" value="444" />
		<variable name="ext_row6_y" value="520" />
		<variable name="ext_row7_y" value="596" />
		<variable name="ext_row8_y" value="672" />
		<variable name="ext_slider1_text_y" value="310" />
		<variable name="ext_slider2_text_y" value="640" />
	</variables>

	<templates>
		<template name="header">
			<background color="#000000FF" />

			<object type="image">
				<image resource="background" />
				<placement x="0" y="0" />
			</object>

			<object type="button">
				<image resource="top_bar" />
				<placement x="0" y="0" />
				<action function="screenshot"></action>
			</object>

			<object type="text" color="%text_color%">
				<font resource="font_small" />
				<placement x="80" y="45" />
				<text>%tw_version%</text>
			</object>

			<object type="text" color="%text_fail_color%">
				<font resource="font" />
				<placement x="370" y="10" />
				<condition var1="tw_data_on_ext" var2="1" />
				<text>DataOnExt</text>
			</object>

			<object type="text" color="%text_color%">
				<condition var1="tw_simulate_actions" var2="1" />
				<font resource="font_small" />
				<placement x="%center_x%" y="45" placement="5" />
				<text>Simulating Actions...</text>
			</object>

			<object type="text" color="%text_fail_color%">
				<font resource="font_small" />
				<placement x="10" y="70" />
				<condition var1="tw_busy" var2="1" />
				<text>System busy...</text>
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="70" placement="5" />
				<text>%tw_time%</text>
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="345" y="70" />
				<conditions>
					<condition var1="tw_no_battery_percent" var2="0" />
					<condition var1="tw_battery" op=">" var2="0" />
					<condition var1="tw_battery" op="<" var2="101" />
				</conditions>
				<text>Battery: %tw_battery%</text>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%home_button_x%" y="%home_button_y%" />
				<font resource="font" color="%button_text_color%" />
				<text></text>
				<image resource="home_icon" />
				<condition var1="tw_busy" var2="0" />
				<action function="key">home</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%back_button_x%" y="%back_button_y%" />
				<font resource="font" color="%button_text_color%" />
				<text></text>
				<image resource="back_icon" />
				<condition var1="tw_busy" var2="0" />
				<action function="key">back</action>
			</object>

			<object type="action">
				<touch key="power" />
				<action function="overlay">lock</action>
			</object>
		</template>

		<template name="progress_bar">
			<object type="progressbar">
				<placement x="%col_progressbar_x%" y="%row_progressbar_y%" />
				<resource  empty="progress_empty" full="progress_full" />
				<data name="ui_progress" />
			</object>

			<object type="animation">
				<placement x="%col_progressbar_x%" y="%row_progressbar_y%" />
				<resource name="progress" />
				<speed fps="15" render="2" />
				<loop frame="1" />
			</object>
		</template>

		<template name="action_page_console">
			<object type="console">
				<placement x="%console_x%" y="%row2_y%" w="%console_width%" h="%console_action_height%" />
				<color foreground="%console_foreground%" background="%console_background%" scroll="%console_scroll%" />
				<font resource="fixed" />
			</object>
		</template>

		<template name="sort_options">
			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%col1_x%" y="%sort_asc_text_y%" />
				<text>Sort Ascending:</text>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%sort_col1_button_x%" y="%sort_asc_button_y%" />
				<font resource="UItext" color="%button_text_color%" />
				<text>Name</text>
				<image resource="sort_button" />
				<action function="set">tw_gui_sort_order=1</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%sort_col2_button_x%" y="%sort_asc_button_y%" />
				<font resource="UItext" color="%button_text_color%" />
				<text>Date</text>
				<image resource="sort_button" />
				<action function="set">tw_gui_sort_order=2</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%sort_col3_button_x%" y="%sort_asc_button_y%" />
				<font resource="UItext" color="%button_text_color%" />
				<text>Size</text>
				<image resource="sort_button" />
				<action function="set">tw_gui_sort_order=3</action>
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%col1_x%" y="%sort_desc_text_y%" />
				<text>Sort Descending:</text>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%sort_col1_button_x%" y="%sort_desc_button_y%" />
				<font resource="UItext" color="%button_text_color%" />
				<text>Name</text>
				<image resource="sort_button" />
				<action function="set">tw_gui_sort_order=-1</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%sort_col2_button_x%" y="%sort_desc_button_y%" />
				<font resource="UItext" color="%button_text_color%" />
				<text>Date</text>
				<image resource="sort_button" />
				<action function="set">tw_gui_sort_order=-2</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%sort_col3_button_x%" y="%sort_desc_button_y%" />
				<font resource="UItext" color="%button_text_color%" />
				<text>Size</text>
				<image resource="sort_button" />
				<action function="set">tw_gui_sort_order=-3</action>
			</object>
		</template>

		<template name="footer">
			<object type="console">
				<slideout resource="slideout" x="210" y="760" />
				<placement x="%console_x%" y="0" w="%console_width%" h="760" />
				<color foreground="%console_foreground%" background="%console_background%" scroll="%console_scroll%" />
				<font resource="fixed" />
			</object>
		</template>

		<template name="keyboardtemplate">
			<object type="keyboard">
				<placement x="0" y="450" />
				<layout resource1="keyboard1" resource2="keyboard2" resource3="keyboard3" resource4="keyboard4" />
				<highlight color="%highlight_color%" />
				<layout1>
					<keysize height="78" width="48" />
					<row1 key01="q" long01="1" key02="w" long02="2" key03="e" long03="3" key04="r" long04="4" key05="t" long05="5" key06="y" long06="6" key07="u" long07="7" key08="i" long08="8" key09="o" long09="9" key10="p" long10="0" />
					<row2 key01="72:a" key02="s" key03="d" key04="f" key05="g" key06="h" key07="j" key08="k" key09="72:l" />
					<row3 key01="72:layout2" key02="z" key03="x" key04="c" key05="v" key06="b" key07="n" key08="m" key09="72:c:8" />
					<row4 key01="72:layout3" key02="48:" key03="240: " key04="48:." key05="72:a:action" />
				</layout1>
				<layout2>
					<keysize height="78" width="48" />
					<row1 key01="Q" long01="1" key02="W" long02="2" key03="E" long03="3" key04="R" long04="4" key05="T" long05="5" key06="Y" long06="6" key07="U" long07="7" key08="I" long08="8" key09="O" long09="9" key10="P" long10="0" />
					<row2 key01="72:A" key02="S" key03="D" key04="F" key05="G" key06="H" key07="J" key08="K" key09="72:L" />
					<row3 key01="72:layout1" key02="Z" key03="X" key04="C" key05="V" key06="B" key07="N" key08="M" key09="72:c:8" />
					<row4 key01="72:layout3" key02="48:" key03="240: " key04="48:." key05="72:action" />
				</layout2>
				<layout3>
					<keysize height="78" width="48" />
					<row1 key01="1" key02="2" key03="3" key04="4" key05="5" key06="6" key07="7" key08="8" key09="9" key10="0" />
					<row2 key01="@" key02="#" key03="$" key04="%" key05="&" key06="*" key07="-" key08="+" key09="(" key10=")" />
					<row3 key01="72:layout4" key02="!" key03="48:c:34" key04="'" key05=":" key06=";" key07="/" key08="?" key09="72:c:8" />
					<row4 key01="72:layout1" key02="48:," key03="240: " key04="48:." key05="72:action" />
				</layout3>
				<layout4>
					<keysize height="78" width="48" />
					<row1 key01="~" key02="`" key03="|" key04="48:" key05="48:" key06="48:" key07="%" key08="48:" key09="{" key10="}" />
					<row2 key01="48:" key02="48:" key03="48:" key04="48:" key05="48:" key06="^" key07="_" key08="=" key09="[" key10="]" />
					<row3 key01="72:layout3" key02="48:" key03="48:" key04="48:" key05="48:" key06="\" key07="<" key08=">" key09="72:c:8" />
					<row4 key01="72:layout1" key02="48:c:34" key03="240: " key04="48:." key05="72:action" />
				</layout4>
			</object>
		</template>
	</templates>

	<pages>
		<page name="main">
			<object type="action">
				<actions>
					<action function="set">tw_clear_destination=main2</action>
					<action function="page">clear_vars</action>
				</actions>
			</object>
		</page>

		<page name="main2">
			<object type="template" name="header" />

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%ext_col1_x%" y="%ext_row1_y%" />
				<font resource="font_big" color="%button_text_color%" />
				<text>Install</text>
				<image resource="ext_main_button_big" />
				<actions>
					<action function="queueclear"></action>
					<action function="page">install</action>
				</actions>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%ext_col1_x%" y="%ext_row2_y%" />
				<font resource="font_big" color="%button_text_color%" />
				<text>Wipe</text>
				<image resource="ext_main_button_big" />
				<action function="page">wipe</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%ext_col1_x%" y="%ext_row3_y%" />
				<font resource="font_big" color="%button_text_color%" />
				<text>Backup</text>
				<image resource="ext_main_button_big" />
				<action function="page">backup</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%ext_col1_x%" y="%ext_row4_y%" />
				<font resource="font_big" color="%button_text_color%" />
				<text>Restore</text>
				<image resource="ext_main_button_big" />
				<action function="page">restore</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%ext_col1_x%" y="%ext_row5_y%" />
				<font resource="font_big" color="%button_text_color%" />
				<text>Mount</text>
				<image resource="ext_main_button_big" />
				<action function="page">mount</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%ext_col1_x%" y="%ext_row6_y%" />
				<font resource="font_big" color="%button_text_color%" />
				<text>Settings</text>
				<image resource="ext_main_button_big" />
				<action function="page">settings</action>
			</object>


			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%ext_col1_x%" y="%ext_row7_y%" />
				<font resource="font_big" color="%button_text_color%" />
				<text>Advanced</text>
				<image resource="ext_main_button_big" />
				<action function="page">advanced</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%ext_col1_x%" y="%ext_row8_y%" />
				<font resource="font_big" color="%button_text_color%" />
				<text>Reboot</text>
				<image resource="ext_main_button_big" />
				<action function="page">reboot</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="install">
			<object type="template" name="header" />

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row1_header_y%" placement="5" />
				<text>Select Zip to Install</text>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%ext_col1_x%" y="%row17_text_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>Storage: %tw_storage_display_name% (%tw_storage_free_size% MB)</text>
				<image resource="ext_main_button_big2" />
				<actions>
					<action function="set">tw_back=install</action>
					<action function="page">selectstorage</action>
				</actions>
			</object>

			<object type="fileselector">
				<highlight color="%fileselector_highlight_color%" />
				<placement x="%fileselector_x%" y="%row1_text_y%" w="%fileselector_width%" h="%fileselector_install_height%" />
				<header background="%fileselector_header_background%" textcolor="%fileselector_header_textcolor%" separatorcolor="%fileselector_header_separatorcolor%" separatorheight="%fileselector_header_separatorheight%" />
				<fastscroll linecolor="%fastscroll_linecolor%" rectcolor="%fastscroll_rectcolor%" w="%fastscroll_w%" linew="%fastscroll_linew%" rectw="%fastscroll_rectw%" recth="%fastscroll_recth%" />
				<text>%tw_zip_location%</text>
				<separator color="%fileselector_separatorcolor%" height="%fileselector_separatorheight%" />
				<sort name="tw_gui_sort_order" />
				<icon folder="folder_icon" file="file_icon" />
				<background color="%fileselector_background%" />
				<font resource="filelist" spacing="%fileselector_spacing%" color="%text_color%" highlightcolor="%fileselector_highlight_font_color%" />
				<filter extn=".zip" folders="1" files="1" />
				<path name="tw_zip_location" default="/sdcard" />
				<data name="tw_filename" />
				<selection name="tw_file" />
			</object>

			<object type="template" name="sort_options" />

			<object type="action">
				<condition var1="tw_filename" op="modified" />
				<actions>
					<action function="queuezip"></action>
					<action function="page">flash_confirm</action>
				</actions>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="flash_confirm">
			<object type="template" name="header" />

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row1_text_y%" placement="5" />
				<text>This operation may install incompatible</text>
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row2_text_y%" placement="5" />
				<text>software and render your device unusable.</text>
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row3_text_y%" placement="5" />
				<text>Folder:</text>
			</object>

			<object type="text" color="%text_color%">
				<font resource="mediumfont" />
				<placement x="%center_x%" y="%row4_text_y%" placement="5" />
				<text>%tw_zip_location%</text>
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row5_text_y%" placement="5" />
				<text>File to flash:</text>
			</object>

			<object type="text" color="%text_color%">
				<font resource="mediumfont" />
				<placement x="%center_x%" y="%row6_text_y%" placement="5" />
				<text>%tw_file%</text>
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row7_text_y%" placement="5" />
				<text>Press back to cancel adding this zip.</text>
			</object>

			<object type="checkbox">
				<placement x="%col1_x%" y="%row8_text_y%" />
				<font resource="font" color="%text_color%" />
				<text>Zip file signature verification.</text>
				<data variable="tw_signed_zip_verify" />
				<image checked="checkbox_true" unchecked="checkbox_false" />
			</object>

			<object type="checkbox">
				<condition var1="tw_has_injecttwrp" var2="1" />
				<placement x="%col1_x%" y="%row10_text_y%" />
				<font resource="font" color="%text_color%" />
				<text>Inject TWRP after install.</text>
				<data variable="tw_inject_after_zip" />
				<image checked="checkbox_true" unchecked="checkbox_false" />
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row11_text_y%" placement="5" />
				<text>File %tw_zip_queue_count% of max of 10</text>
			</object>

			<object type="slider">
				<placement x="%slider_x%" y="%slider_y%" placement="5" />
				<resource base="slider" used="slider-used" touch="slider-touch" />
				<action function="flash">flash_zip</action>
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%slider_text_y%" placement="4" />
				<text>Swipe to Confirm Flash</text>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<condition var1="tw_zip_queue_count" op="!=" var2="10"></condition>
				<placement x="%ext_col1_x%" y="%ext_row6_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>Add More Zips</text>
				<image resource="ext_main_button_small" />
				<action function="page">install</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%ext_col2_x%" y="%ext_row6_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>Clear Zip Queue</text>
				<image resource="ext_main_button_small" />
				<actions>
					<action function="queueclear"></action>
					<action function="page">install</action>
				</actions>
			</object>

			<object type="action">
				<touch key="back" />
				<actions>
					<action function="cancelzip"></action>
					<action function="page">install</action>
				</actions>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="flash_zip">
			<object type="template" name="header" />

			<object type="console">
				<placement x="%console_x%" y="%row1_y%" w="%console_width%" h="%console_install_height%" />
				<color foreground="%console_foreground%" background="%console_background%" scroll="%console_scroll%" />
				<font resource="fixed" />
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row17_text_y%" placement="5" />
				<text>Flashing file %tw_zip_index% of %tw_zip_queue_count%</text>
			</object>

			<object type="text" color="%text_color%">
				<font resource="mediumfont" />
				<placement x="%center_x%" y="%row18_text_y%" placement="5" />
				<text>%tw_filename%</text>
			</object>

			<object type="template" name="progress_bar" />

			<object type="action">
				<condition var1="tw_operation_state" var2="1" />
				<action function="page">flash_done</action>
			</object>
		</page>

		<page name="flash_done">
			<object type="template" name="header" />

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row1_header_y%" placement="5" />
				<text>Zip Install Complete</text>
			</object>

			<object type="console">
				<placement x="%console_x%" y="%row1_y%" w="%console_width%" h="%console_installdone_height%" />
				<color foreground="%console_foreground%" background="%console_background%" scroll="%console_scroll%" />
				<font resource="fixed" />
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%ext_col1_x%" y="%ext_row8_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>Wipe cache/dalvik</text>
				<image resource="main_button" />
				<actions>
					<action function="set">tw_back=flash_done</action>
					<action function="set">tw_action=wipe</action>
					<action function="set">tw_action_param=/cache</action>
					<action function="set">tw_has_action2=1</action>
					<action function="set">tw_action2=wipe</action>
					<action function="set">tw_action2_param=dalvik</action>
					<action function="set">tw_text1=Wipe Cache & Dalvik?</action>
					<action function="set">tw_action_text1=Wiping Cache & Dalvik...</action>
					<action function="set">tw_complete_text1=Cache & Dalvik Wipe Complete</action>
					<action function="set">tw_slider_text=Swipe to Wipe</action>
					<action function="page">confirm_action</action>
				</actions>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%ext_col2_x%" y="%ext_row8_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>Reboot System</text>
				<image resource="main_button" />
				<actions>
					<action function="set">tw_back=main2</action>
					<action function="set">tw_action=reboot</action>
					<action function="set">tw_action_param=system</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_text1=No OS Installed! Are you</action>
					<action function="set">tw_text2=sure you wish to reboot?</action>
					<action function="set">tw_text3=</action>
					<action function="set">tw_text4=</action>
					<action function="set">tw_action_text1=Rebooting...</action>
					<action function="set">tw_action_text2=</action>
					<action function="set">tw_complete_text1=Rebooting...</action>
					<action function="set">tw_slider_text=Swipe to Reboot</action>
					<action function="page">rebootcheck</action>
				</actions>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%col_center_x%" y="%row3_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>Home</text>
				<image resource="main_button" />
				<actions>
					<action function="set">tw_clear_destination=main2</action>
					<action function="page">clear_vars</action>
				</actions>
			</object>

			<object type="text" color="%text_fail_color%">
				<condition var1="tw_operation_status" op="!=" var2="0" />
				<font resource="font" />
				<placement x="%center_x%" y="%zip_status_y%" placement="5" />
				<text>Failed</text>
			</object>

			<object type="text" color="%text_success_color%">
				<condition var1="tw_operation_status" var2="0" />
				<font resource="font" />
				<placement x="%center_x%" y="%zip_status_y%" placement="5" />
				<text>Successful</text>
			</object>

			<object type="action">
				<touch key="back" />
				<actions>
					<action function="set">tw_clear_destination=install</action>
					<action function="page">clear_vars</action>
				</actions>
			</object>

			<object type="action">
				<touch key="home" />
				<actions>
					<action function="set">tw_clear_destination=main2</action>
					<action function="page">clear_vars</action>
				</actions>
			</object>
		</page>

		<page name="clear_vars">
			<object type="action">
				<action function="set">tw_operation_state=0</action>
				<action function="set">tw_text1=</action>
				<action function="set">tw_text2=</action>
				<action function="set">tw_text3=</action>
				<action function="set">tw_text4=</action>
				<action function="set">tw_action_text1=</action>
				<action function="set">tw_action_text2=</action>
				<action function="set">tw_action_param=</action>
				<action function="set">tw_has_action2=0</action>
				<action function="set">tw_action2=</action>
				<action function="set">tw_action2_param=</action>
				<action function="set">tw_has_cancel=0</action>
				<action function="set">tw_cancel_action=</action>
				<action function="set">tw_cancel_param=</action>
				<action function="set">tw_show_reboot=0</action>
				<action function="page">%tw_clear_destination%</action>
			</object>
		</page>

		<page name="confirm_action">
			<object type="template" name="header" />

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row1_text_y%" placement="5" />
				<text>%tw_text1%</text>
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row2_text_y%" placement="5" />
				<text>%tw_text2%</text>
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row3_text_y%" placement="5" />
				<text>%tw_text3%</text>
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row4_text_y%" placement="5" />
				<text>%tw_text4%</text>
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row15_text_y%" placement="5" />
				<text>Press back button to cancel.</text>
			</object>

			<object type="slider">
				<placement x="%slider_x%" y="%slider_y%" />
				<resource base="slider" used="slider-used" touch="slider-touch" />
				<action function="page">action_page</action>
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%slider_text_y%" placement="4" />
				<text>%tw_slider_text%</text>
			</object>

			<object type="action">
				<touch key="back" />
				<actions>
					<action function="set">tw_clear_destination=%tw_back%</action>
					<action function="page">clear_vars</action>
				</actions>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="singleaction_page">
			<object type="template" name="header" />

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row1_text_y%" placement="5" />
				<text>%tw_action_text1%</text>
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row3_text_y%" placement="5" />
				<text>%tw_action_text2%</text>
			</object>

			<object type="template" name="action_page_console" />

			<object type="template" name="progress_bar" />

			<object type="action">
				<condition var1="tw_operation_state" var2="1" />
				<actions>
					<action function="set">tw_page_done=1</action>
				</actions>
			</object>

			<object type="action">
				<condition var1="tw_has_action2" var2="0" />
				<actions>
					<action function="%tw_action%">%tw_action_param%</action>
				</actions>
			</object>

			<object type="action">
				<condition var1="tw_has_action2" var2="1" />
				<actions>
					<action function="%tw_action%">%tw_action_param%</action>
					<action function="%tw_action2%">%tw_action2_param%</action>
				</actions>
			</object>
		</page>

		<page name="action_page">
			<object type="template" name="header" />

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row1_text_y%" placement="5" />
				<text>%tw_action_text1%</text>
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row2_text_y%" placement="5" />
				<text>%tw_action_text2%</text>
			</object>

			<object type="template" name="action_page_console" />

			<object type="button">
				<highlight color="%highlight_color%" />
				<condition var1="tw_has_cancel" var2="1" />
				<placement x="%col_center_medium_x%" y="%row4_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>Cancel</text>
				<image resource="medium_button" />
				<action function="%tw_cancel_action%">%tw_cancel_param%</action>
			</object>

			<object type="template" name="progress_bar" />

			<object type="action">
				<condition var1="tw_operation_state" var2="1" />
				<actions>
					<action function="page">action_complete</action>
				</actions>
			</object>

			<object type="action">
				<condition var1="tw_has_action2" var2="0" />
				<actions>
					<action function="%tw_action%">%tw_action_param%</action>
				</actions>
			</object>

			<object type="action">
				<condition var1="tw_has_action2" var2="1" />
				<actions>
					<action function="%tw_action%">%tw_action_param%</action>
					<action function="%tw_action2%">%tw_action2_param%</action>
				</actions>
			</object>
		</page>

		<page name="action_complete">
			<object type="template" name="header" />

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row1_text_y%" placement="5" />
				<text>%tw_complete_text1%</text>
			</object>

			<object type="text" color="%text_fail_color%">
				<condition var1="tw_operation_status" op="!=" var2="0" />
				<font resource="font" />
				<placement x="%center_x%" y="%row2_text_y%" placement="5" />
				<text>Failed</text>
			</object>

			<object type="text" color="%text_success_color%">
				<condition var1="tw_operation_status" var2="0" />
				<font resource="font" />
				<placement x="%center_x%" y="%row2_text_y%" placement="5" />
				<text>Successful</text>
			</object>

			<object type="template" name="action_page_console" />

			<object type="button">
				<highlight color="%highlight_color%" />
				<condition var1="tw_show_reboot" var2="0" />
				<placement x="%col_center_x%" y="%ext_row8_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>Back</text>
				<image resource="main_button" />
				<actions>
					<action function="set">tw_clear_destination=%tw_back%</action>
					<action function="page">clear_vars</action>
				</actions>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<condition var1="tw_show_reboot" var2="1" />
				<placement x="%col_center_x%" y="%ext_row8_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>Reboot System</text>
				<image resource="main_button" />
				<actions>
					<action function="set">tw_back=main2</action>
					<action function="set">tw_action=reboot</action>
					<action function="set">tw_action_param=system</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_text1=No OS Installed! Are you</action>
					<action function="set">tw_text2=sure you wish to reboot?</action>
					<action function="set">tw_text3=</action>
					<action function="set">tw_text4=</action>
					<action function="set">tw_action_text1=Rebooting...</action>
					<action function="set">tw_action_text2=</action>
					<action function="set">tw_complete_text1=Rebooting...</action>
					<action function="set">tw_slider_text=Swipe to Reboot</action>
					<action function="page">rebootcheck</action>
				</actions>
			</object>

			<object type="action">
				<touch key="home" />
				<actions>
					<action function="set">tw_clear_destination=main2</action>
					<action function="page">clear_vars</action>
				</actions>
			</object>

			<object type="action">
				<touch key="back" />
				<actions>
					<action function="set">tw_clear_destination=%tw_back%</action>
					<action function="page">clear_vars</action>
				</actions>
			</object>
		</page>

		<page name="filecheck">
			<object type="action">
				<action function="fileexists">%tw_filecheck%</action>
			</object>

			<object type="action">
				<conditions>
					<condition var1="tw_operation_state" var2="1" />
					<condition var1="tw_operation_status" var2="0" />
				</conditions>
				<actions>
					<action function="set">tw_fileexists=1</action>
					<action function="page">%tw_existpage%</action>
				</actions>
			</object>

			<object type="action">
				<conditions>
					<condition var1="tw_operation_state" var2="1" />
					<condition var1="tw_operation_status" var2="1" />
				</conditions>
				<actions>
					<action function="set">tw_fileexists=0</action>
					<action function="page">%tw_notexistpage%</action>
				</actions>
			</object>
			</page>

			<page name="rebootcheck">
			<object type="action">
				<condition var1="tw_backup_system_size" op=">=" var2="%tw_min_system%" />
				<action function="reboot">%tw_action_param%</action>
			</object>

			<object type="action">
				<condition var1="tw_backup_system_size" op="<" var2="%tw_min_system%" />
				<action function="page">confirm_action</action>
			</object>
		</page>

		<page name="xbootcheck">
			<object type="action">
				<action function="validbootimg">%tw_action_param%</action>
			</object>

			<object type="action">
				<conditions>
					<condition var1="tw_operation_state" var2="1" />
					<condition var1="tw_operation_status" var2="0" />
				</conditions>
				<actions>
					<action function="reboot">%tw_action_param%</action>
				</actions>
			</object>

			<object type="action">
				<conditions>
					<condition var1="tw_operation_state" var2="1" />
					<condition var1="tw_operation_status" var2="1" />
				</conditions>
				<actions>
					<action function="page">confirm_action</action>
				</actions>
			</object>
		</page>

		<page name="wipe">
			<object type="template" name="header" />

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row1_header_y%" placement="5" />
				<text>Wipe Menu</text>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%ext_col1_x%" y="%ext_row1_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>Advanced Wipe</text>
				<image resource="ext_main_button_small" />
				<action function="page">advancedwipe</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%ext_col2_x%" y="%ext_row1_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>Wipe All but SD</text>
				<image resource="ext_main_button_small" />
				<actions>
					<action function="set">tw_back=wipe</action>
					<action function="set">tw_action=wipe</action>
					<action function="set">tw_action_param=all</action>
					<action function="set">tw_text1=Wipe all partitions:</action>
					<action function="set">tw_text2=Cache, Boot, System, Data</action>
					<action function="set">tw_text3=.android_secure, SD-Ext and SD-Ext 2</action>
					<action function="set">tw_action_text1=Wiping main partitions...</action>
					<action function="set">tw_complete_text1=Wipping Complete</action>
					<action function="set">tw_slider_text=Swipe to Wipe</action>
					<action function="page">confirm_action</action>
				</actions>
			</object>

			<object type="button">
				<conditions>
					<condition var1="tw_has_internal" var2="1" />
					<condition var1="tw_has_data_media" var2="1" />
				</conditions>
				<highlight color="%highlight_color%" />
				<placement x="%ext_col2_x%" y="%ext_row2_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>Format Data</text>
				<image resource="ext_main_button_small" />
				<actions>
					<action function="page">formatdata</action>
				</actions>
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row11_text_y%" placement="5" />
				<text>Factory Reset wipes:</text>
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row12_text_y%" placement="5" />
				<text>Data, Cache, Dalvik-Cache, .android_secure</text>
			</object>

			<object type="text" color="%text_color%">
				<condition var1="tw_has_sdext_partition" var2="1" />
				<font resource="font" />
				<placement x="%center_x%" y="%row13_text_y%" placement="5" />
				<text>and SD-Ext.</text>
			</object>

			<object type="text" color="%text_color%">
				<condition var1="tw_has_data_media" var2="1" />
				<font resource="font" />
				<placement x="%center_x%" y="%row14_text_y%" placement="5" />
				<text>(not including internal storage)</text>
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row15_text_y%" placement="5" />
				<text>Press back button to cancel.</text>
			</object>

			<object type="slider">
				<placement x="%slider_x%" y="%slider_y%" />
				<resource base="slider" used="slider-used" touch="slider-touch" />
				<actions>
					<action function="set">tw_back=wipe</action>
					<action function="set">tw_action=wipe</action>
					<action function="set">tw_action_param=data</action>
					<action function="set">tw_action_text1=Factory Reset...</action>
					<action function="set">tw_complete_text1=Factory Reset Complete</action>
					<action function="page">action_page</action>
				</actions>
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%slider_text_y%" placement="4" />
				<text>Factory Reset</text>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="advancedwipe">
			<object type="template" name="header" />

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row1_header_y%" placement="5" />
				<text>Wipe Menu</text>
			</object>

			<object type="partitionlist">
				<highlight color="%fileselector_highlight_color%" />
				<placement x="%listbox_x%" y="%row1_text_y%" w="%listbox_width%" h="%wipe_list_height%" />
				<header background="%fileselector_header_background%" textcolor="%fileselector_header_textcolor%" separatorcolor="%fileselector_header_separatorcolor%" separatorheight="%fileselector_header_separatorheight%" />
				<fastscroll linecolor="%fastscroll_linecolor%" rectcolor="%fastscroll_rectcolor%" w="%fastscroll_w%" linew="%fastscroll_linew%" rectw="%fastscroll_rectw%" recth="%fastscroll_recth%" />
				<text>Select Partitions to Wipe:</text>
				<icon selected="checkbox_true" unselected="checkbox_false" />
				<separator color="%fileselector_separatorcolor%" height="%fileselector_separatorheight%" />
				<background color="%listbox_background%" />
				<font resource="filelist" spacing="%fileselector_spacing%" color="%text_color%" highlightcolor="%fileselector_highlight_font_color%" />
				<data name="tw_wipe_list" />
				<listtype name="wipe" />
			</object>

			<object type="slider">
				<placement x="%slider_x%" y="%slider_y%" />
				<resource base="slider" used="slider-used" touch="slider-touch" />
				<actions>
					<action function="set">tw_back=advancedwipe</action>
					<action function="set">tw_action=wipe</action>
					<action function="set">tw_action_param=LIST</action>
					<action function="set">tw_text1=Wipe Selected Partition(s)?</action>
					<action function="set">tw_action_text1=Wiping Partition(s)...</action>
					<action function="set">tw_complete_text1=Wipe Complete</action>
					<action function="page">action_page</action>
				</actions>
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%slider_text_y%" placement="4" />
				<text>Swipe to Wipe</text>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">wipe</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="formatdata">
			<object type="template" name="header" />

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row1_header_y%" placement="5" />
				<text>Format Data will wipe all of your apps,</text>
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row1_text_y%" placement="5" />
				<text>backups, pictures, videos, media, and</text>
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row2_text_y%" placement="5" />
				<text>removes encryption on internal storage.</text>
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row3_text_y%" placement="5" />
				<text>This cannot be undone. Press back to cancel.</text>
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row4_text_y%" placement="5" />
				<text>Type yes to continue.</text>
			</object>

			<object type="input">
				<placement x="%col1_x%" y="%row6_text_y%" w="%input_width%" h="%input_height%" placement="0" />
				<background color="%input_background_color%" />
				<cursor color="%input_cursor_color%" hasfocus="1" width="%input_cursor_width%" />
				<font resource="font" color="%text_color%" />
				<text>%tw_confirm_formatdata%</text>
				<data name="tw_confirm_formatdata" />
				<restrict minlen="3" maxlen="3" allow="yes" />
				<action function="page">formatdata_confirm</action>
			</object>

			<object type="template" name="keyboardtemplate" />

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">wipe</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="formatdata_confirm">
			<object type="action">
				<condition var1="tw_confirm_formatdata" op="=" var2="yes" />
				<actions>
					<action function="set">tw_back=formatdata</action>
					<action function="set">tw_action=wipe</action>
					<action function="set">tw_action_param=DATAMEDIA</action>
					<action function="set">tw_action_text1=Formatting Data...</action>
					<action function="set">tw_complete_text1=Data Format Complete</action>
					<action function="page">action_page</action>
				</actions>
			</object>

			<object type="action">
				<condition var1="tw_confirm_formatdata" op="!=" var2="yes" />
				<action function="page">formatdata</function>
			</object>
		</page>

		<page name="backup">
			<object type="template" name="header" />

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%ext_col1_x%" y="%row1_header_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>Backup Name: %tw_backup_name%</text>
				<image resource="ext_main_button_big2" />
				<actions>
					<action function="set">tw_fileexists=0</action>
					<action function="page">backupname1</action>
				</actions>
			</object>

			<object type="partitionlist">
				<highlight color="%fileselector_highlight_color%" />
				<placement x="%listbox_x%" y="%sdext_text_y%" w="%listbox_width%" h="%backup_list_height%" />
				<header background="%fileselector_header_background%" textcolor="%fileselector_header_textcolor%" separatorcolor="%fileselector_header_separatorcolor%" separatorheight="%fileselector_header_separatorheight%" />
				<fastscroll linecolor="%fastscroll_linecolor%" rectcolor="%fastscroll_rectcolor%" w="%fastscroll_w%" linew="%fastscroll_linew%" rectw="%fastscroll_rectw%" recth="%fastscroll_recth%" />
				<text>Select Partitions to Back Up:</text>
				<icon selected="checkbox_true" unselected="checkbox_false" />
				<separator color="%fileselector_separatorcolor%" height="%fileselector_separatorheight%" />
				<background color="%listbox_background%" />
				<font resource="filelist" spacing="%fileselector_spacing%" color="%text_color%" highlightcolor="%fileselector_highlight_font_color%" />
				<data name="tw_backup_list" />
				<listtype name="backup" />
			</object>

			<!--object type="button">
				<condition var1="tw_include_encrypted_backup" var2="0" />
				<highlight color="%highlight_color%" />
				<placement x="%ext_col1_x%" y="%backup_button_row1%" />
				<font resource="font" color="%button_text_color%" />
				<text>No Encryption</text>
				<image resource="ext_main_button_small2" />
				<action function="page">backup</action>
			</object-->

			<object type="button">
				<conditions>
					<condition var1="tw_include_encrypted_backup" var2="1" />
					<condition var1="tw_encrypt_backup" var2="0" />
				</conditions>
				<highlight color="%highlight_color%" />
				<placement x="%ext_col1_x%" y="%backup_button_row1%" />
				<font resource="font" color="%button_text_color%" />
				<text>No Encryption</text>
				<image resource="ext_main_button_small2" />
				<action function="page">backupencryption</action>
			</object>

			<object type="button">
				<conditions>
					<condition var1="tw_include_encrypted_backup" var2="1" />
					<condition var1="tw_encrypt_backup" var2="1" />
				</conditions>
				<highlight color="%highlight_color%" />
				<placement x="%ext_col1_x%" y="%backup_button_row1%" />
				<font resource="font" color="%button_text_color%" />
				<text>Using Encryption</text>
				<image resource="ext_main_button_small2" />
				<action function="page">backupencryption</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%ext_col2_x%" y="%backup_button_row1%" />
				<font resource="font" color="%button_text_color%" />
				<text>Refresh Sizes</text>
				<image resource="ext_main_button_small2" />
				<action function="refreshsizes">forcerender</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%ext_col1_x%" y="%backup_button_row2%" />
				<font resource="font" color="%button_text_color%" />
				<text>Storage: %tw_storage_display_name% (%tw_storage_free_size% MB)</text>
				<image resource="ext_main_button_big2" />
				<actions>
					<action function="set">tw_back=backup</action>
					<action function="page">selectstorage</action>
				</actions>
			</object>

			<object type="checkbox">
				<placement x="%col1_x%" y="%row15_text_y%" />
				<font resource="font" color="%text_color%" />
				<text>Enable compression.</text>
				<data variable="tw_use_compression" />
				<image checked="checkbox_true" unchecked="checkbox_false" />
			</object>

			<object type="checkbox">
				<placement x="%col1_x%" y="%row16_text_y%" />
				<font resource="font" color="%text_color%" />
				<text>Skip MD5 generation during backup.</text>
				<data variable="tw_skip_md5_generate" />
				<image checked="checkbox_true" unchecked="checkbox_false" />
			</object>

			<object type="checkbox">
				<placement x="%col1_x%" y="%row17_text_y%" />
				<font resource="font" color="%text_color%" />
				<text>Exclude dalvik-cache from backup.</text>
				<data variable="tw_skip_dalvik" />
				<image checked="checkbox_true" unchecked="checkbox_false" />
			</object>

			<object type="checkbox">
				<conditions>
					<condition var1="tw_has_sdext_partition" var2="1" />
					<condition var1="fileexists" var2="/sdcard/NativeSD" />
				</conditions>
				<placement x="%col1_x%" y="%row18_text_y%" />
				<font resource="font" color="%text_color%" />
				<text>Exclude NativeSD-Roms from backup.</text>
				<data variable="tw_skip_nativesd" />
				<image checked="checkbox_true" unchecked="checkbox_false" />
			</object>

			<object type="slider">
				<placement x="%slider_x%" y="slider_y" />
				<resource base="slider" used="slider-used" touch="slider-touch" />
				<action function="page">backup_run</action>
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%slider_text_y%" placement="4" />
				<text>Swipe to Back Up</text>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">main</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="backupname1">
			<object type="action">
				<condition var1="tw_backup_name" op="=" var2="(Current Date)" />
				<action function="set">tw_backup_name=</function>
			</object>

			<object type="action">
				<action function="page">backupname2</function>
			</object>
		</page>

		<page name="backupname2">
			<object type="template" name="header" />

			<object type="text" color="%text_color%">
				<placement x="%center_x%" y="%row1_header_y%" placement="5" />
				<font resource="font" />
				<text>Please Enter a Backup Name</text>
			</object>

			<object type="input">
				<placement x="%col1_x%" y="%row3_text_y%" w="%input_width%" h="%input_height%" placement="0" />
				<background color="%input_background_color%" />
				<cursor color="%input_cursor_color%" hasfocus="1" width="%input_cursor_width%" />
				<font resource="font" color="%text_color%" />
				<text>%tw_backup_name%</text>
				<data name="tw_backup_name" />
				<restrict minlen="1" maxlen="64" allow=" abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890-_.{}[]" />
				<actions>
					<action function="set">tw_filecheck=%tw_backups_folder%/%tw_backup_name%</action>
					<action function="set">tw_existpage=backupname2</action>
					<action function="set">tw_notexistpage=backup</action>
					<action function="page">filecheck</action>
				</actions>
			</object>

			<object type="text" color="%text_fail_color%">
				<condition var1="tw_fileexists" var2="1" />
				<placement x="%center_x%" y="%row5_text_y%" placement="5" />
				<font resource="font" />
				<text>A backup with that name already exists!</text>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%col_center_x%" y="%ext_row3_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>Append Date</text>
				<image resource="main_button" />
				<action function="appenddatetobackupname"></action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%col_center_x%" y="%ext_row4_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>Cancel</text>
				<image resource="main_button" />
				<actions>
					<action function="set">tw_backup_name=(Current Date)</action>
					<action function="page">backup</action>
				</actions>
			</object>

			<object type="template" name="keyboardtemplate" />

			<object type="action">
				<touch key="home" />
				<actions>
					<action function="set">tw_backup_name=(Current Date)</action>
					<action function="page">main</action>
				</actions>
			</object>

			<object type="action">
				<touch key="back" />
				<actions>
					<action function="set">tw_backup_name=(Current Date)</action>
					<action function="page">backup</action>
				</actions>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="dataonext">
			<object type="action">
				<action function="fileexists">%tw_data_path%</action>
			</object>

			<object type="action">
				<conditions>
					<condition var1="tw_operation_state" var2="1" />
					<condition var1="tw_operation_status" var2="0" />
				</conditions>
				<action function="set">tw_fileexists=1</action>
				<action function="page">dataonext2</function>
			</object>

			<object type="action">
				<conditions>
					<condition var1="tw_operation_state" var2="1" />
					<condition var1="tw_operation_status" var2="1" />
				</conditions>
				<action function="set">tw_fileexists=0</action>
				<action function="page">dataonext2</function>
			</object>
		</page>

		<page name="dataonext2">
			<object type="template" name="header" />

			<object type="text" color="%text_color%">
				<placement x="%center_x%" y="%row1_header_y%" placement="5" />
				<font resource="font" />
				<text>Set the full path that corresponds to /data and</text>
			</object>

			<object type="text" color="%text_color%">
				<placement x="%center_x%" y="%row1_text_y%" placement="5" />
				<font resource="font" />
				<text>press ENTER.(i.e.: /sd-ext or /sdext2/Rom/data)</text>
			</object>

			<object type="text" color="%text_fail_color%">
				<condition var1="tw_fileexists" var2="0" />
				<placement x="%center_x%" y="%row2_text_y%" placement="5" />
				<font resource="font" />
				<text>Set a valid path!</text>
			</object>
			<object type="text" color="%text_success_color%">
				<condition var1="tw_fileexists" var2="1" />
				<placement x="%center_x%" y="%row2_text_y%" placement="5" />
				<font resource="font" />
				<text>Path is valid!</text>
			</object>

			<object type="input">
				<placement x="%col1_x%" y="%row3_text_y%" w="%input_width%" h="%input_height%" placement="0" />
				<background color="%input_background_color%" />
				<cursor color="%input_cursor_color%" hasfocus="1" width="%input_cursor_width%" />
				<font resource="font" color="%text_color%" />
				<text>%tw_data_path%</text>
				<data name="tw_data_path" />
				<restrict minlen="0" maxlen="64" allow=" abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890/-_.{}[]" />
				<actions>
					<action function="set">tw_filecheck=%tw_data_path%</action>
					<action function="set">tw_existpage=settings</action>
					<action function="set">tw_notexistpage=dataonext2</action>
					<action function="page">filecheck</action>
				</actions>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%col_center_x%" y="%ext_row4_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>Cancel</text>
				<image resource="main_button" />
				<actions>
					<action function="umount">/sd-ext</action>
					<action function="page">settings</action>
				</actions>
			</object>

			<object type="template" name="keyboardtemplate" />

			<object type="action">
				<touch key="home" />
				<actions>
					<action function="umount">/sd-ext</action>
					<action function="page">main</action>
				</actions>
			</object>

			<object type="action">
				<touch key="back" />
				<actions>
					<action function="umount">/sd-ext</action>
					<action function="page">settings</action>
				</actions>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="backupencryption">
			<object type="template" name="header" />

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row1_header_y%" placement="5" />
				<text>Encrypt your backup?</text>
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row2_text_y%" placement="5" />
				<text>Please Enter A Password:</text>
			</object>

			<object type="input">
				<placement x="%col1_x%" y="%row3_text_y%" w="%input_width%" h="%input_height%" placement="0" />
				<background color="%input_background_color%" />
				<cursor color="%input_cursor_color%" hasfocus="1" width="%input_cursor_width%" />
				<font resource="font" color="%text_color%" />
				<text>%tw_backup_encrypt_display%</text>
				<data name="tw_backup_password" mask="*" maskvariable="tw_backup_encrypt_display" />
				<restrict minlen="1" maxlen="32" allow="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890_" />
				<actions>
					<action function="set">tw_encrypt_backup=1</action>
					<action function="page">backup</action>
				</actions>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%col_center_x%" y="%row2_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>Cancel</text>
				<image resource="main_button" />
				<actions>
					<action function="set">tw_encrypt_backup=0</action>
					<action function="page">backup</action>
				</actions>
			</object>

			<object type="template" name="keyboardtemplate" />

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">backup</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="backup_run">
			<object type="template" name="header" />

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row1_text_y%" placement="5" />
				<text>%tw_operation% %tw_partition%</text>
			</object>

			<object type="template" name="action_page_console" />

			<object type="template" name="progress_bar" />

			<object type="action">
				<action function="nandroid">backup</action>
			</object>

			<object type="action">
				<condition var1="tw_operation_state" var2="1" />
				<actions>
					<action function="set">tw_back=backup</action>
					<action function="set">tw_complete_text1=Backup Complete</action>
					<action function="set">tw_show_reboot=0</action>
					<action function="page">action_complete</action>
				</actions>
			</object>
		</page>

		<page name="restore">
			<object type="template" name="header" />

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%ext_col1_x%" y="%row17_text_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>Storage: %tw_storage_display_name% (%tw_storage_free_size% MB)</text>
				<image resource="ext_main_button_big2" />
				<actions>
					<action function="set">tw_back=restore</action>
					<action function="page">selectstorage</action>
				</actions>
			</object>

			<object type="fileselector">
				<placement x="%fileselector_x%" y="%row1_text_y%" w="%fileselector_width%" h="%fileselector_install_height%" />
				<header background="%fileselector_header_background%" textcolor="%fileselector_header_textcolor%" separatorcolor="%fileselector_header_separatorcolor%" separatorheight="%fileselector_header_separatorheight%" />
				<fastscroll linecolor="%fastscroll_linecolor%" rectcolor="%fastscroll_rectcolor%" w="%fastscroll_w%" linew="%fastscroll_linew%" rectw="%fastscroll_rectw%" recth="%fastscroll_recth%" />
				<text>Select Package to Restore:</text>
				<separator color="%fileselector_separatorcolor%" height="%fileselector_separatorheight%" />
				<sort name="tw_gui_sort_order" />
				<icon folder="folder_icon" file="file_icon" />
				<background color="%fileselector_background%" />
				<highlight color="%fileselector_highlight_color%" />
				<font resource="filelist" spacing="%fileselector_spacing%" color="%text_color%" highlightcolor="%fileselector_highlight_font_color%" />
				<filter folders="1" files="0" nav="0" />
				<path name="tw_backups_folder" />
				<data name="tw_restore" default="" />
				<selection name="tw_restore_name" />
			</object>

			<object type="template" name="sort_options" />

			<object type="action">
				<condition var1="tw_restore" op="modified" />
				<actions>
					<action function="readBackup"></action>
					<action function="page">restore_read</action>
				</actions>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">main</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="restore_read">
			<object type="action">
				<condition var1="tw_restore_encrypted" var2="1" />
				<actions>
					<action function="set">tw_password_fail=0</action>
					<action function="page">restore_decrypt</action>
				</actions>
			</object>

			<object type="action">
				<condition var1="tw_restore_encrypted" var2="0" />
				<actions>
					<action function="page">restore_select</action>
				</actions>
			</object>
		</page>

		<page name="restore_decrypt">
			<object type="template" name="header" />

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row1_header_y%" placement="5" />
				<text>Backup Encrypted</text>
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row2_text_y%" placement="5" />
				<text>Please Enter Your Password:</text>
			</object>

			<object type="input">
				<placement x="%col1_x%" y="%row3_text_y%" w="%input_width%" h="%input_height%" placement="0" />
				<background color="%input_background_color%" />
				<cursor color="%input_cursor_color%" hasfocus="1" width="%input_cursor_width%" />
				<font resource="font" color="%text_color%" />
				<text>%tw_restore_display%</text>
				<data name="tw_restore_password" mask="*" maskvariable="tw_restore_display" />
				<restrict minlen="1" maxlen="32" allow="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890_" />
				<actions>
					<action function="page">try_restore_decrypt</action>
				</actions>
			</object>

			<object type="text" color="%text_fail_color%">
				<condition var1="tw_password_fail" var2="1" />
				<font resource="font" />
				<placement x="%center_x%" y="%row4_text_y%" placement="5" />
				<text>Password Failed, Please Try Again</text>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%col1_x%" y="%row2_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>Cancel</text>
				<image resource="main_button" />
				<actions>
					<action function="set">tw_page_done=1</action>
					<action function="page">restore</action>
				</actions>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%col2_x%" y="%row2_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>Delete</text>
				<image resource="main_button" />
				<actions>
					<action function="set">tw_back=restore</action>
					<action function="set">tw_action=cmd</action>
					<action function="set">tw_action_param=cd %tw_backups_folder% && rm -rf &quot;%tw_restore_name%&quot;</action>
					<action function="set">tw_text1=Delete Backup? %tw_restore_name%</action>
					<action function="set">tw_text2=This cannot be undone!</action>
					<action function="set">tw_action_text1=Deleting Backup...</action>
					<action function="set">tw_complete_text1=Backup Delete Complete</action>
					<action function="set">tw_slider_text=Swipe to Delete</action>
					<action function="page">confirm_action</action>
				</actions>
			</object>

			<object type="template" name="keyboardtemplate" />

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">restore</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="try_restore_decrypt">
			<object type="template" name="header" />

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row1_text_y%" placement="5" />
				<text>Trying Decryption with Your Password</text>
			</object>

			<object type="template" name="action_page_console" />

			<object type="template" name="progress_bar" />

			<object type="action">
				<action function="decrypt_backup"></action>
			</object>

			<object type="action">
				<conditions>
					<condition var1="tw_operation_state" var2="1" />
					<condition var1="tw_operation_status" op="!=" var2="0" />
				</conditions>
				<actions>
					<action function="set">tw_password_fail=1</action>
					<action function="page">restore_decrypt</action>
				</actions>
			</object>

			<object type="action">
				<conditions>
					<condition var1="tw_operation_state" var2="1" />
					<condition var1="tw_operation_status" op="=" var2="0" />
				</conditions>
				<actions>
					<action function="set">tw_page_done=1</action>
					<action function="page">restore_select</action>
				</actions>
			</object>
		</page>

		<page name="restore_select">
			<object type="template" name="header" />

			<object type="partitionlist">
				<highlight color="%fileselector_highlight_color%" />
				<placement x="%listbox_x%" y="%row1_text_y%" w="%listbox_width%" h="%backup_list_height%" />
				<header background="%fileselector_header_background%" textcolor="%fileselector_header_textcolor%" separatorcolor="%fileselector_header_separatorcolor%" separatorheight="%fileselector_header_separatorheight%" />
				<fastscroll linecolor="%fastscroll_linecolor%" rectcolor="%fastscroll_rectcolor%" w="%fastscroll_w%" linew="%fastscroll_linew%" rectw="%fastscroll_rectw%" recth="%fastscroll_recth%" />
				<text>Restoring: %tw_restore_name%</text>
				<icon selected="checkbox_true" unselected="checkbox_false" />
				<separator color="%fileselector_separatorcolor%" height="%fileselector_separatorheight%" />
				<background color="%listbox_background%" />
				<font resource="filelist" spacing="%fileselector_spacing%" color="%text_color%" highlightcolor="%fileselector_highlight_font_color%" />
				<data name="tw_restore_list" selectedlist="tw_restore_selected" />
				<listtype name="restore" />
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%ext_col1_x%" y="%backup_button_row1%" />
				<font resource="font" color="%button_text_color%" />
				<text>Rename Backup</text>
				<image resource="ext_main_button_small2" />
				<actions>
					<action function="set">tw_backup_rename=</action>
					<action function="set">tw_fileexists=0</action>
					<action function="page">renamebackup</action>
				</actions>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%ext_col2_x%" y="%backup_button_row1%" />
				<font resource="font" color="%button_text_color%" />
				<text>Delete Backup</text>
				<image resource="ext_main_button_small2" />
				<actions>
					<action function="set">tw_back=restore</action>
					<action function="set">tw_action=cmd</action>
					<action function="set">tw_action_param=cd %tw_backups_folder% && rm -rf &quot;%tw_restore_name%&quot;</action>
					<action function="set">tw_text1=Delete Backup? %tw_restore_name%</action>
					<action function="set">tw_text2=This cannot be undone!</action>
					<action function="set">tw_action_text1=Deleting Backup...</action>
					<action function="set">tw_complete_text1=Backup Delete Complete</action>
					<action function="set">tw_slider_text=Swipe to Delete</action>
					<action function="page">confirm_action</action>
				</actions>
			</object>

			<object type="slider">
				<placement x="%slider_x%" y="%slider_y%" />
				<resource base="slider" used="slider-used" touch="slider-touch" />
				<action function="page">restore_run</action>
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%slider_text_y%" placement="4" />
				<text>Swipe to Restore</text>
			</object>

			<object type="checkbox">
				<placement x="%col1_x%" y="%row15_text_y%" />
				<font resource="font" color="%text_color%" />
				<text>Skip MD5 verification of backup files.</text>
				<data variable="tw_skip_md5_check" />
				<image checked="checkbox_true" unchecked="checkbox_false" />
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row16_text_y%" placement="5" />
				<text>Package Date: %tw_restore_file_date%</text>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">restore</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="renamebackup">
			<object type="template" name="header" />

			<object type="text" color="%text_color%">
				<placement x="%center_x%" y="%row1_header_y%" placement="5" />
				<font resource="font" />
				<text>Please Enter a New Backup Name</text>
			</object>

			<object type="input">
				<placement x="%col1_x%" y="%row3_text_y%" w="%input_width%" h="%input_height%" placement="0" />
				<background color="%input_background_color%" />
				<cursor color="%input_cursor_color%" hasfocus="1" width="%input_cursor_width%" />
				<font resource="font" color="%text_color%" />
				<text>%tw_backup_rename%</text>
				<data name="tw_backup_rename" />
				<restrict minlen="1" maxlen="64" allow=" abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890-_.{}[]" />
				<actions>
					<action function="set">tw_back=restore</action>
					<action function="set">tw_action=cmd</action>
					<action function="set">tw_action_param=cd %tw_backups_folder% && mv &quot;%tw_restore_name%&quot; &quot;%tw_backup_rename%&quot;</action>
					<action function="set">tw_text1=Rename Backup?</action>
					<action function="set">tw_text2=This cannot be undone!</action>
					<action function="set">tw_action_text1=Renaming Backup...</action>
					<action function="set">tw_complete_text1=Backup Rename Complete</action>
					<action function="set">tw_slider_text=Swipe to Rename</action>
					<action function="set">tw_filecheck=%tw_backups_folder%/%tw_backup_rename%</action>
					<action function="set">tw_existpage=renamebackup</action>
					<action function="set">tw_notexistpage=confirm_action</action>
					<action function="page">filecheck</action>
				</actions>
			</object>

			<object type="text" color="%text_fail_color%">
				<condition var1="tw_fileexists" var2="1" />
				<placement x="%center_x%" y="%row5_text_y%" placement="5" />
				<font resource="font" />
				<text>A backup with that name already exists!</text>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%col_center_x%" y="%ext_row4_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>Cancel</text>
				<image resource="main_button" />
				<action function="page">restore_select</action>
			</object>

			<object type="template" name="keyboardtemplate" />

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">restore_select</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="restore_run">
			<object type="template" name="header" />

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row1_text_y%" placement="5" />
				<text>%tw_operation% %tw_partition%</text>
			</object>

			<object type="template" name="action_page_console" />

			<object type="template" name="progress_bar" />

			<object type="action">
				<condition var1="tw_operation_state" var2="1" />
				<actions>
					<action function="set">tw_back=restore_select</action>
					<action function="set">tw_complete_text1=Restore Complete</action>
					<action function="set">tw_show_reboot=1</action>
					<action function="page">action_complete</action>
				</actions>
			</object>

			<object type="action">
				<action function="nandroid">restore</action>
			</object>
		</page>

		<page name="selectstorage">
			<object type="template" name="header" />

			<object type="partitionlist">
				<highlight color="%fileselector_highlight_color%" />
				<placement x="%listbox_x%" y="%row1_text_y%" w="%listbox_width%" h="%storage_list_height%" />
				<header background="%fileselector_header_background%" textcolor="%fileselector_header_textcolor%" separatorcolor="%fileselector_header_separatorcolor%" separatorheight="%fileselector_header_separatorheight%" />
				<fastscroll linecolor="%fastscroll_linecolor%" rectcolor="%fastscroll_rectcolor%" w="%fastscroll_w%" linew="%fastscroll_linew%" rectw="%fastscroll_rectw%" recth="%fastscroll_recth%" />
				<text>Select Storage:</text>
				<icon selected="radio_true" unselected="radio_false" />
				<separator color="%fileselector_separatorcolor%" height="%fileselector_separatorheight%" />
				<background color="%listbox_background%" />
				<font resource="filelist" spacing="%fileselector_spacing%" color="%text_color%" highlightcolor="%fileselector_highlight_font_color%" />
				<data name="tw_storage_path" />
				<listtype name="storage" />
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<actions>
					<action function="page">%tw_back%</action>
				</actions>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="mount">
			<object type="template" name="header" />

			<object type="partitionlist">
				<highlight color="%fileselector_highlight_color%" />
				<placement x="%listbox_x%" y="%row1_text_y%" w="%listbox_width%" h="%mount_list_height%" />
				<header background="%fileselector_header_background%" textcolor="%fileselector_header_textcolor%" separatorcolor="%fileselector_header_separatorcolor%" separatorheight="%fileselector_header_separatorheight%" />
				<fastscroll linecolor="%fastscroll_linecolor%" rectcolor="%fastscroll_rectcolor%" w="%fastscroll_w%" linew="%fastscroll_linew%" rectw="%fastscroll_rectw%" recth="%fastscroll_recth%" />
				<text>Select Partitions to Mount:</text>
				<icon selected="checkbox_true" unselected="checkbox_false" />
				<separator color="%fileselector_separatorcolor%" height="%fileselector_separatorheight%" />
				<background color="%listbox_background%" />
				<font resource="filelist" spacing="%fileselector_spacing%" color="%text_color%" highlightcolor="%fileselector_highlight_font_color%" />
				<listtype name="mount" />
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%ext_col1_x%" y="%mount_storage_row%" />
				<font resource="font" color="%button_text_color%" />
				<text>Storage: %tw_storage_display_name% (%tw_storage_free_size% MB)</text>
				<image resource="ext_main_button_big2" />
				<actions>
					<action function="set">tw_back=mount</action>
					<action function="page">selectstorage</action>
				</actions>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<conditions>
					<condition var1="tw_has_dual_storage" var2="1" />
					<condition var1="tw_has_usb_storage" var2="1" />
				</conditions>
				<placement x="%ext_col1_x%" y="%ext_row8_y%" />
				<font resource="font_big" color="%button_text_color%" />
				<text>Mount USB Storage</text>
				<image resource="ext_main_button_big" />
				<action function="page">usb_mount</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<conditions>
					<condition var1="tw_has_dual_storage" var2="0" />
					<condition var1="tw_has_usb_storage" var2="1" />
					<condition var1="tw_has_external" var2="1" />
				</conditions>
				<placement x="%ext_col1_x%" y="%ext_row8_y%" />
				<font resource="font_big" color="%button_text_color%" />
				<text>Mount USB Storage</text>
				<image resource="ext_main_button_big" />
				<action function="page">usb_mount</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<conditions>
					<condition var1="tw_is_encrypted" var2="1" />
					<condition var1="tw_is_decrypted" var2="0" />
				</conditions>
				<placement x="%ext_col1_x%" y="%ext_row7_y%" />
				<font resource="font_big" color="%button_text_color%" />
				<text>Decrypt Data</text>
				<image resource="ext_main_button_big" />
				<action function="page">decrypt</action>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">main</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="usb_mount">
			<object type="template" name="header" />

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row1_header_y%" placement="5" />
				<text>USB Storage Mounted</text>
			</object>

			<object type="text" color="%text_color%">
				<placement x="%center_x%" y="%row1_text_y%" placement="5" />
				<font resource="font" />
				<text>Be sure to safely remove your device</text>
			</object>

			<object type="text" color="%text_color%">
				<placement x="%center_x%" y="%row2_text_y%" placement="5" />
				<font resource="font" />
				<text>from your computer before unmounting!</text>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%ext_col1_x%" y="ext_row8_y" />
				<font resource="font_big" color="%button_text_color%" />
				<text>Unmount</text>
				<image resource="ext_main_button_big" />
				<action function="page">usb_umount</action>
			</object>

			<object type="action">
				<action function="mount">usb</action>
			</object>

			<object type="template" name="footer" />
			</page>

			<page name="usb_umount">
			<object type="action">
				<action function="unmount">usb</action>
			</object>

			<object type="action">
				<action function="page">mount</action>
			</object>
		</page>

		<page name="reboot">
			<object type="template" name="header" />

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row1_header_y%" placement="5" />
				<text>Reboot Menu</text>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<condition var1="tw_reboot_system" var2="1" />
				<placement x="%ext_col1_x%" y="%ext_row1_y%" />
				<font resource="font_big" color="%button_text_color%" />
				<text>System</text>
				<image resource="ext_main_button_big" />
				<actions>
					<action function="set">tw_back=reboot</action>
					<action function="set">tw_action=reboot</action>
					<action function="set">tw_action_param=system</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_text1=No OS Installed! Are you</action>
					<action function="set">tw_text2=sure you wish to reboot?</action>
					<action function="set">tw_action_text1=Rebooting...</action>
					<action function="set">tw_complete_text1=Rebooting...</action>
					<action function="set">tw_slider_text=Swipe to Reboot</action>
					<action function="page">rebootcheck</action>
				</actions>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<condition var1="tw_reboot_poweroff" var2="1" />
				<placement x="%ext_col1_x%" y="%ext_row2_y%" />
				<font resource="font_big" color="%button_text_color%" />
				<text>Power Off</text>
				<image resource="ext_main_button_big" />
				<action function="reboot">poweroff</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<conditions>
					<condition var1="tw_bldr_is_clk" var2="1" />
					<condition var1="tw_reboot_recovery" var2="1" />
				</conditions>
				<placement x="%ext_col1_x%" y="%ext_row3_y%" />
				<font resource="font_big" color="%button_text_color%" />
				<text>Recovery</text>
				<image resource="ext_main_button_big" />
				<action function="reboot">recovery</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<conditions>
					<condition var1="tw_bldr_is_clk" var2="1" />
					<condition var1="tw_reboot_bootloader" var2="1" />
				</conditions>
				<placement x="%ext_col1_x%" y="%ext_row4_y%" />
				<font resource="font_big" color="%button_text_color%" />
				<text>Bootloader</text>
				<image resource="ext_main_button_big" />
				<action function="reboot">bootloader</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%ext_col1_x%" y="%ext_row8_y%" />
				<font resource="font_big" color="%button_text_color%" />
				<text>Hot Reboot</text>
				<image resource="ext_main_button_big" />
				<action function="reboot">hot</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<condition var1="tw_download_mode" var2="1" />
				<placement x="%ext_col1_x%" y="%ext_row7_y%" />
				<font resource="font_big" color="%button_text_color%" />
				<text>Download</text>
				<image resource="ext_main_button_big" />
				<actions>
					<action function="set">tw_back=reboot</action>
					<action function="set">tw_action=reboot</action>
					<action function="set">tw_action_param=download</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_text1=No OS Installed! Are you</action>
					<action function="set">tw_text2=sure you wish to reboot?</action>
					<action function="set">tw_action_text1=Rebooting...</action>
					<action function="set">tw_complete_text1=Rebooting...</action>
					<action function="set">tw_slider_text=Swipe to Reboot</action>
					<action function="page">rebootcheck</action>
				</actions>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<conditions>
					<condition var1="tw_bldr_is_clk" var2="1" />
					<condition var1="tw_has_sboot_ptn" var2="1" />
				</conditions>
				<placement x="%col1_medium_x%" y="%ext_row5_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>sBoot</text>
				<image resource="medium_button" />
				<actions>
					<action function="set">tw_back=reboot</action>
					<action function="set">tw_action=reboot</action>
					<action function="set">tw_action_param=sboot</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_text1=No Kernel Installed! Are you</action>
					<action function="set">tw_text2=sure you wish to reboot?</action>
					<action function="set">tw_action_text1=Rebooting...</action>
					<action function="set">tw_complete_text1=Rebooting...</action>
					<action function="set">tw_slider_text=Swipe to Reboot</action>
					<action function="page">xbootcheck</action>
				</actions>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<conditions>
					<condition var1="tw_bldr_is_clk" var2="1" />
					<condition var1="tw_has_tboot_ptn" var2="1" />
				</conditions>
				<placement x="%col2_medium_x%" y="%ext_row5_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>tBoot</text>
				<image resource="medium_button" />
				<actions>
					<action function="set">tw_back=reboot</action>
					<action function="set">tw_action=reboot</action>
					<action function="set">tw_action_param=tboot</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_text1=No Kernel Installed! Are you</action>
					<action function="set">tw_text2=sure you wish to reboot?</action>
					<action function="set">tw_action_text1=Rebooting...</action>
					<action function="set">tw_complete_text1=Rebooting...</action>
					<action function="set">tw_slider_text=Swipe to Reboot</action>
					<action function="page">xbootcheck</action>
				</actions>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<conditions>
					<condition var1="tw_bldr_is_clk" var2="1" />
					<condition var1="tw_has_vboot_ptn" var2="1" />
				</conditions>
				<placement x="%col3_medium_x%" y="%ext_row5_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>vBoot</text>
				<image resource="medium_button" />
				<actions>
					<action function="set">tw_back=reboot</action>
					<action function="set">tw_action=reboot</action>
					<action function="set">tw_action_param=vboot</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_text1=No Kernel Installed! Are you</action>
					<action function="set">tw_text2=sure you wish to reboot?</action>
					<action function="set">tw_action_text1=Rebooting...</action>
					<action function="set">tw_complete_text1=Rebooting...</action>
					<action function="set">tw_slider_text=Swipe to Reboot</action>
					<action function="page">xbootcheck</action>
				</actions>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<conditions>
					<condition var1="tw_bldr_is_clk" var2="1" />
					<condition var1="tw_has_wboot_ptn" var2="1" />
				</conditions>
				<placement x="%col4_medium_x%" y="%ext_row5_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>wBoot</text>
				<image resource="medium_button" />
				<actions>
					<action function="set">tw_back=reboot</action>
					<action function="set">tw_action=reboot</action>
					<action function="set">tw_action_param=wboot</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_text1=No Kernel Installed! Are you</action>
					<action function="set">tw_text2=sure you wish to reboot?</action>
					<action function="set">tw_action_text1=Rebooting...</action>
					<action function="set">tw_complete_text1=Rebooting...</action>
					<action function="set">tw_slider_text=Swipe to Reboot</action>
					<action function="page">xbootcheck</action>
				</actions>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<conditions>
					<condition var1="tw_bldr_is_clk" var2="1" />
					<condition var1="tw_has_xboot_ptn" var2="1" />
				</conditions>
				<placement x="%col1_medium_x%" y="%ext_row6_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>xBoot</text>
				<image resource="medium_button" />
				<actions>
					<action function="set">tw_back=reboot</action>
					<action function="set">tw_action=reboot</action>
					<action function="set">tw_action_param=xboot</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_text1=No Kernel Installed! Are you</action>
					<action function="set">tw_text2=sure you wish to reboot?</action>
					<action function="set">tw_action_text1=Rebooting...</action>
					<action function="set">tw_complete_text1=Rebooting...</action>
					<action function="set">tw_slider_text=Swipe to Reboot</action>
					<action function="page">xbootcheck</action>
				</actions>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<conditions>
					<condition var1="tw_bldr_is_clk" var2="1" />
					<condition var1="tw_has_yboot_ptn" var2="1" />
				</conditions>
				<placement x="%col2_medium_x%" y="%ext_row6_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>yBoot</text>
				<image resource="medium_button" />
				<actions>
					<action function="set">tw_back=reboot</action>
					<action function="set">tw_action=reboot</action>
					<action function="set">tw_action_param=yboot</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_text1=No Kernel Installed! Are you</action>
					<action function="set">tw_text2=sure you wish to reboot?</action>
					<action function="set">tw_action_text1=Rebooting...</action>
					<action function="set">tw_complete_text1=Rebooting...</action>
					<action function="set">tw_slider_text=Swipe to Reboot</action>
					<action function="page">xbootcheck</action>
				</actions>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<conditions>
					<condition var1="tw_bldr_is_clk" var2="1" />
					<condition var1="tw_has_zboot_ptn" var2="1" />
				</conditions>
				<placement x="%col3_medium_x%" y="%ext_row6_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>zBoot</text>
				<image resource="medium_button" />
				<actions>
					<action function="set">tw_back=reboot</action>
					<action function="set">tw_action=reboot</action>
					<action function="set">tw_action_param=zboot</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_text1=No Kernel Installed! Are you</action>
					<action function="set">tw_text2=sure you wish to reboot?</action>
					<action function="set">tw_action_text1=Rebooting...</action>
					<action function="set">tw_complete_text1=Rebooting...</action>
					<action function="set">tw_slider_text=Swipe to Reboot</action>
					<action function="page">xbootcheck</action>
				</actions>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<conditions>
					<condition var1="tw_bldr_is_clk" var2="0" />
					<condition var1="fileexists" var2="/sdcard/NativeSD" />
				</conditions>
				<placement x="%ext_col1_x%" y="%ext_row7_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>NativeSD Rom</text>
				<image resource="ext_main_button_big" />
				<action function="page">nativeboot</action>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">main</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="nativeboot">
			<object type="template" name="header" />

			<object type="fileselector">
				<placement x="%fileselector_x%" y="%row1_y%" w="%fileselector_width%" h="%fileselector_install_height%" />
				<header background="%fileselector_header_background%" textcolor="%fileselector_header_textcolor%" separatorcolor="%fileselector_header_separatorcolor%" separatorheight="%fileselector_header_separatorheight%" />
				<fastscroll linecolor="%fastscroll_linecolor%" rectcolor="%fastscroll_rectcolor%" w="%fastscroll_w%" linew="%fastscroll_linew%" rectw="%fastscroll_rectw%" recth="%fastscroll_recth%" />
				<text>Select NativeSD ROM to boot:</text>
				<separator color="%fileselector_separatorcolor%" height="%fileselector_separatorheight%" />
				<sort name="tw_gui_sort_order" />
				<icon folder="folder_icon" file="file_icon" />
				<background color="%fileselector_background%" />
				<highlight color="%fileselector_highlight_color%" />
				<font resource="filelist" spacing="%fileselector_spacing%" color="%text_color%" highlightcolor="%fileselector_highlight_font_color%" />
				<filter folders="1" files="0" nav="0" />
				<path name="sd_rom_location1" default="/sdcard/NativeSD" />
				<data name="sd_rom1" default="" />
				<selection name="sd_rom_selection1" />
			</object>

			<object type="template" name="sort_options" />

			<object type="action">
				<condition var1="sd_rom1" op="modified" />
				<actions>
					<action function="set">tw_back=nativeboot</action>
					<action function="set">tw_action=nativeboot_run</action>
					<action function="set">tw_action_param=</action>
					<action function="set">tw_text1=Boot selected Rom?</action>
					<action function="set">tw_action_text1=Copying selected Rom's kernel to /sdcard/NativeSD...</action>
					<action function="set">tw_complete_text1=Operation Completed</action>
					<action function="set">tw_slider_text=Swipe to Confirm</action>
					<action function="page">confirm_action</action>
				</actions>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">reboot</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="settings">
    			<object type="template" name="header" />

    			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row1_header_y%" placement="5" />
				<text>Settings</text>
    			</object>

    			<object type="checkbox">
				<placement x="%col1_x%" y="%row1_text_y%" />
				<font resource="font" color="%text_color%" />
				<text>Use rm -rf instead of formatting.</text>
				<data variable="tw_rm_rf" />
				<image checked="checkbox_true" unchecked="checkbox_false" />
    			</object>

    			<object type="checkbox">
				<placement x="%col1_x%" y="%row2_text_y%" />
				<font resource="font" color="%text_color%" />
				<text>Handle partition size during restore.</text>
				<data variable="tw_handle_restore_size" />
				<image checked="checkbox_true" unchecked="checkbox_false" />
    			</object>

    			<object type="checkbox">
				<placement x="%col1_x%" y="%row3_text_y%" />
				<font resource="font" color="%text_color%" />
				<text>Skip free space check during backup.</text>
				<data variable="tw_skip_sd_free_sz_check" />
				<image checked="checkbox_true" unchecked="checkbox_false" />
    			</object>

    			<object type="checkbox">
				<conditions>
           				<condition var1="tw_htc_leo" var2="1" />
            				<condition var1="tw_has_sdext_partition" var2="1" />
				</conditions>
				<placement x="%col1_x%" y="%row4_text_y%" />
				<font resource="font" color="%text_color%" />
				<text>Setup recovery for DataOnExt.</text>
				<data variable="tw_data_on_ext" />
				<image checked="checkbox_true" unchecked="checkbox_false" />
    			</object>

    			<object type="checkbox">
				<conditions>
            				<condition var1="tw_has_sdext_partition" var2="1" />
            				<condition var1="tw_data_on_ext" var2="1" />
				</conditions>
				<placement x="%col1_x%" y="%row5_text_y%" />
				<font resource="font" color="%text_color%" />
				<text>Enable path-checking for DataOnExt.</text>
				<data variable="tw_data_on_ext_check" />
				<image checked="checkbox_true" unchecked="checkbox_false" />
    			</object>

    			<object type="checkbox">
				<placement x="%col1_x%" y="%row6_text_y%" />
				<font resource="font" color="%text_color%" />
				<text>Enable screenshot taking(LOGO touch).</text>
				<data variable="tw_screenshot_var" />
				<image checked="checkbox_true" unchecked="checkbox_false" />
    			</object>

    			<object type="checkbox">
				<placement x="%col1_x%" y="%row7_text_y%" />
				<font resource="font" color="%text_color%" />
				<text>Show 24h clock.</text>
				<data variable="tw_military_time" />
				<image checked="checkbox_true" unchecked="checkbox_false" />
    			</object>

    			<object type="checkbox">
				<condition var1="tw_bldr_is_magldr" var2="1" />
				<placement x="%col2_x%" y="%row7_text_y%" />
				<font resource="font" color="%text_color%" />
				<text>/boot is raw.</text>
				<data variable="tw_boot_is_mtd" />
				<image checked="checkbox_true" unchecked="checkbox_false" />
    			</object>

    			<object type="checkbox">
				<placement x="%col1_x%" y="%row8_text_y%" />
				<font resource="font" color="%text_color%" />
				<text>Handle root(missing su/wrong perms).</text>
				<data variable="tw_handle_su" />
				<image checked="checkbox_true" unchecked="checkbox_false" />
    			</object>

    			<object type="checkbox">
				<placement x="%col1_x%" y="%row9_text_y%" />
				<font resource="font" color="%text_color%" />
				<text>Simulate actions for theme testing.</text>
				<data variable="tw_simulate_actions" />
				<image checked="checkbox_true" unchecked="checkbox_false" />
    			</object>

    			<object type="checkbox">
				<condition var1="tw_simulate_actions" var2="1" />
				<placement x="%col1_x%" y="%row10_text_y%" />
				<font resource="font" color="%text_color%" />
				<text>Simulate failure for actions.</text>
				<data variable="tw_simulate_fail" />
				<image checked="checkbox_true" unchecked="checkbox_false" />
    			</object>

    			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%col1_x%" y="%row11_text_y%" />
				<text>Filesystem check every</text>
    			</object>

    			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%ext_col2_x%" y="%row11_text_y%" />
				<font resource="font" color="%button_text_color%" />
				<text></text>
				<image resource="minus_button" />
				<action function="addsubtract">tw_num_of_mounts_for_fs_check-1</action>
    			</object>

    			<object type="text" color="%text_color%">
				<font resource="font_small" />
				<placement x="312" y="445" />
				<text>%tw_num_of_mounts_for_fs_check%mounts</text>
    			</object>

    			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="392" y="%row11_text_y%" />
				<font resource="font" color="%button_text_color%" />
				<text></text>
				<image resource="plus_button" />
				<action function="addsubtract">tw_num_of_mounts_for_fs_check+1</action>
    			</object>

    			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%ext_col1_x%" y="615" />
				<font resource="font" color="%button_text_color%" />
				<text>Time Zone</text>
				<image resource="ext_main_button_small" />
				<action function="page">timezone</action>
    			</object>

    			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%ext_col1_x%" y="675" />
				<condition var1="tw_has_external" var2="1" />
				<font resource="font" color="%button_text_color%" />
				<text>Restore Defaults</text>
				<image resource="ext_main_button_small" />
				<actions>
            				<action function="set">tw_back=settings</action>
					<action function="set">tw_action=restoredefaultsettings</action>
					<action function="set">tw_text1=Restore Defaults?</action>
					<action function="set">tw_text3=(Device will reboot into recovery</action>
					<action function="set">tw_text4=after restoring default settings)</action>
					<action function="set">tw_slider_text=Swipe to Confirm</action>
					<action function="page">confirm_action</action>
				</actions>
    			</object>

    			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%ext_col1_x%" y="%row12_text_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>Screen</text>
				<image resource="ext_main_button_small" />
				<action function="page">screen</action>
    			</object>

    			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%ext_col1_x%" y="%row14_text_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>Haptic Feedback</text>
				<image resource="ext_main_button_small" />
				<action function="page">haptic</action>
    			</object>

    			<object type="button">
				<highlight color="%highlight_color%" />
				<conditions>
            				<condition var1="tw_has_sdext_partition" var2="1" />
            				<condition var1="tw_data_on_ext" var2="1" />
				</conditions>
				<placement x="%ext_col2_x%" y="615" />
				<font resource="font" color="%button_text_color%" />
				<text>DataOnExt</text>
				<image resource="ext_main_button_small" />
				<actions>
            				<action function="set">tw_fileexists=0</action>
            				<action function="mount">/sd-ext</action>
            				<action function="page">dataonext</action>
				</actions>
    			</object>

    			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%ext_col2_x%" y="675" />
				<font resource="font" color="%button_text_color%" />
				<condition var1="tw_htc_leo" var2="1" />
				<text>System Tweaks</text>
				<image resource="ext_main_button_small" />
				<action function="page">tweaks</action>
    			</object>

    			<object type="button">
				<highlight color="%highlight_color%" />
				<condition var1="tw_handle_restore_size" var2="1" />
				<placement x="%ext_col2_x%" y="%row15_text_y%" />
				<font resource="font" color="%button_text_color%" />
				<text></text>
				<image resource="minus_button" />
				<action function="addsubtract">tw_incr_size-5</action>
    			</object>

    			<object type="button">
				<highlight color="%highlight_color%" />
				<condition var1="tw_handle_restore_size" var2="1" />
				<placement x="392" y="%row15_text_y%" />
				<font resource="font" color="%button_text_color%" />
				<text></text>
				<image resource="plus_button" />
				<action function="addsubtract">tw_incr_size+5</action>
    			</object>

    			<object type="text" color="%text_color%">
				<condition var1="tw_handle_restore_size" var2="1" />
				<font resource="font_small" />
				<placement x="%ext_col2_x%" y="475" />
				<text>Part's size increment(%)</text>
    			</object>

    			<object type="text" color="%text_color%">
				<condition var1="tw_handle_restore_size" var2="1" />
				<font resource="font_small" />
				<placement x="%ext_col2_x%" y="%row13_text_y%" />
				<text>if no dalvik-cache found</text>
    			</object>

    			<object type="text" color="%text_color%">
				<condition var1="tw_handle_restore_size" var2="1" />
				<font resource="font_small" />
				<placement x="%ext_col2_x%" y="525" />
				<text>in the backup archive</text>
    			</object>

    			<object type="text" color="%text_color%">
				<condition var1="tw_handle_restore_size" var2="1" />
				<font resource="font_small" />
				<placement x="340" y="565" />
				<text>%tw_incr_size%</text>
    			</object>

    			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
    			</object>

    			<object type="action">
				<touch key="back" />
				<action function="page">main</action>
    			</object>

    			<object type="template" name="footer" />
		</page>

		<page name="timezone">
			<object type="template" name="header" />

			<object type="listbox">
				<highlight color="%fileselector_highlight_color%" />
				<placement x="%listbox_x%" y="%row1_header_y%" w="%listbox_width%" h="%listbox_tz_height%" />
				<header background="%fileselector_header_background%" textcolor="%fileselector_header_textcolor%" separatorcolor="%fileselector_header_separatorcolor%" separatorheight="%fileselector_header_separatorheight%" />
				<fastscroll linecolor="%fastscroll_linecolor%" rectcolor="%fastscroll_rectcolor%" w="%fastscroll_w%" linew="%fastscroll_linew%" rectw="%fastscroll_rectw%" recth="%fastscroll_recth%" />
				<text>Select Time Zone:</text>
				<icon selected="radio_true" unselected="radio_false" />
				<separator color="%fileselector_separatorcolor%" height="%fileselector_separatorheight%" />
				<background color="%listbox_background%" />
				<font resource="font" spacing="%listbox_spacing%" color="%text_color%" highlightcolor="%fileselector_highlight_font_color%" />
				<data name="tw_time_zone_guisel" />
				<listitem name="(UTC -11) Samoa, Midway Island">BST11;HST10</listitem>
				<listitem name="(UTC -10) Hawaii">HST10;AST9</listitem>
				<listitem name="(UTC -9) Alaska">AST9;PST8</listitem>
				<listitem name="(UTC -8) Pacific Time">PST8;MST7</listitem>
				<listitem name="(UTC -7) Mountain Time">MST7;CST6</listitem>
				<listitem name="(UTC -6) Central Time">CST6;EST5</listitem>
				<listitem name="(UTC -5) Eastern Time">EST5;AST4</listitem>
				<listitem name="(UTC -4) Atlantic Time">AST4;GRNLNDST3</listitem>
				<listitem name="(UTC -3) Brazil, Buenos Aires">GRNLNDST3;FALKST2</listitem>
				<listitem name="(UTC -2) Mid-Atlantic">FALKST2;AZOREST1</listitem>
				<listitem name="(UTC -1) Azores, Cape Verde">AZOREST1;GMT0</listitem>
				<listitem name="(UTC  0) London, Dublin, Lisbon">GMT0;NFT-1</listitem>
				<listitem name="(UTC +1) Berlin, Brussels, Paris">NFT-1;WET-2</listitem>
				<listitem name="(UTC +2) Athens, Istanbul, South Africa">WET-2;SAUST-3</listitem>
				<listitem name="(UTC +3) Moscow, Baghdad">SAUST-3;WST-4</listitem>
				<listitem name="(UTC +4) Abu Dhabi, Tbilisi, Muscat">WST-4;PAKST-5</listitem>
				<listitem name="(UTC +5) Yekaterinburg, Islamabad">PAKST-5;TASHST-6</listitem>
				<listitem name="(UTC +6) Almaty, Dhaka, Colombo">TASHST-6;THAIST-7</listitem>
				<listitem name="(UTC +7) Bangkok, Hanoi, Jakarta">THAIST-7;TAIST-8</listitem>
				<listitem name="(UTC +8) Beijing, Singapore, Hong Kong">TAIST-8;JST-9</listitem>
				<listitem name="(UTC +9) Tokyo, Seoul, Yakutsk">JST-9;EET-10</listitem>
				<listitem name="(UTC +10) Eastern Australia, Guam">EET-10;MET-11</listitem>
				<listitem name="(UTC +11) Vladivostok, Solomon Islands">MET-11;NZST-12</listitem>
				<listitem name="(UTC +12) Auckland, Wellington, Fiji">NZST-12;UTC+11:00</listitem>
			</object>

			<object type="checkbox">
				<placement x="%col1_x%" y="%row_dst_text_y%" />
				<font resource="font" color="%text_color%" />
				<text>Do you use daylight savings time (DST)?</text>
				<data variable="tw_time_zone_guidst" />
				<image checked="checkbox_true" unchecked="checkbox_false" />
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row_offset_text_y%" placement="5" />
				<text>Offset (usually 0): %tw_time_zone_guioffset%</text>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%col1_medium_x%" y="%row_offset_medium_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>None</text>
				<image resource="medium_button" />
				<action function="set">tw_time_zone_guioffset=0</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%col2_medium_x%" y="%row_offset_medium_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>15</text>
				<image resource="medium_button" />
				<action function="set">tw_time_zone_guioffset=15</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%col3_medium_x%" y="%row_offset_medium_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>30</text>
				<image resource="medium_button" />
				<action function="set">tw_time_zone_guioffset=30</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%col4_medium_x%" y="%row_offset_medium_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>45</text>
				<image resource="medium_button" />
				<action function="set">tw_time_zone_guioffset=45</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%col_center_x%" y="%tz_set_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>Set Time Zone</text>
				<image resource="main_button" />
				<action function="setguitimezone"></action>
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%tz_current_y%" placement="5" />
				<text>Current Time Zone: %tw_display_time_zone%</text>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">settings</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="tweaks">
			<object type="template" name="header" />

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row1_header_y%" placement="5" />
				<text>Tweak System Settings</text>
			</object>

			<object type="checkbox">
				<placement x="%col1_x%" y="%row1_text_y%" />
				<font resource="font" color="%text_color%" />
				<text>CPU governor (%tw_cpu_gov%)</text>
				<data variable="tw_set_cpu_gov_at_boot" />
				<image checked="checkbox_true" unchecked="checkbox_false" />
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%col1_medium_x%" y="%row2_text_y%" />
				<condition var1="tw_set_cpu_gov_at_boot" var2="1" />
				<font resource="font_small" color="%button_text_color%" />
				<text>smartassV2</text>
				<image resource="medium_button" />
				<action function="set">tw_cpu_gov=smartassV2</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%col2_medium_x%" y="%row2_text_y%" />
				<condition var1="tw_set_cpu_gov_at_boot" var2="1" />
				<font resource="font_small" color="%button_text_color%" />
				<text>performance</text>
				<image resource="medium_button" />
				<action function="set">tw_cpu_gov=performance</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%col3_medium_x%" y="%row2_text_y%" />
				<condition var1="tw_set_cpu_gov_at_boot" var2="1" />
				<font resource="font_small" color="%button_text_color%" />
				<text>ondemand</text>
				<image resource="medium_button" />
				<action function="set">tw_cpu_gov=ondemand</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<condition var1="tw_set_cpu_gov_at_boot" var2="1" />
				<placement x="%col4_medium_x%" y="%row2_text_y%" />
				<font resource="font_small" color="%button_text_color%" />
				<text>interactive</text>
				<image resource="medium_button" />
				<action function="set">tw_cpu_gov=interactive</action>
			</object>

			<object type="checkbox">
				<placement x="%col1_x%" y="%row5_text_y%" />
				<font resource="font" color="%text_color%" />
				<text>CPU frequency (%tw_min_cpu_f%Hz - %tw_max_cpu_f%Hz)</text>
				<data variable="tw_set_cpu_f_at_boot" />
				<image checked="checkbox_true" unchecked="checkbox_false" />
			</object>

			<object type="listbox">
				<highlight color="%fileselector_highlight_color%" />
				<condition var1="tw_set_cpu_f_at_boot" var2="1" />
				<placement x="%col1_medium_x%" y="%row6_text_y%" w="224" h="200" />
				<header background="%fileselector_header_background%" textcolor="%fileselector_header_textcolor%" separatorcolor="%fileselector_header_separatorcolor%" separatorheight="%fileselector_header_separatorheight%" />
				<fastscroll linecolor="%fastscroll_linecolor%" rectcolor="%fastscroll_rectcolor%" w="%fastscroll_w%" linew="%fastscroll_linew%" rectw="%fastscroll_rectw%" recth="%fastscroll_recth%" />
				<text>Minimum Frequency</text>
				<icon selected="radio_true" unselected="radio_false" />
				<separator color="%fileselector_separatorcolor%" height="%fileselector_separatorheight%" />
				<background color="%listbox_background%" />
				<font resource="font" spacing="%listbox_spacing%" color="%text_color%" highlightcolor="%fileselector_highlight_font_color%" />
				<data name="tw_min_cpu_f" />
				<listitem name="245000">245000</listitem>
				<listitem name="384000">384000</listitem>
				<listitem name="422400">422400</listitem>
				<listitem name="460800">460800</listitem>
				<listitem name="499200">499200</listitem>
				<listitem name="537600">537600</listitem>
				<listitem name="576000">576000</listitem>
				<listitem name="614400">614400</listitem>
				<listitem name="652800">652800</listitem>
				<listitem name="691200">691200</listitem>
				<listitem name="729600">729600</listitem>
				<listitem name="768000">768000</listitem>
				<listitem name="806400">806400</listitem>
				<listitem name="844800">844800</listitem>
				<listitem name="883200">883200</listitem>
				<listitem name="921600">921600</listitem>
				<listitem name="960000">960000</listitem>
				<listitem name="998400">998400</listitem>
				<listitem name="1036800">1036800</listitem>
				<listitem name="1075200">1075200</listitem>
				<listitem name="1113600">1113600</listitem>
				<listitem name="1152000">1152000</listitem>
				<listitem name="1190400">1190400</listitem>
			</object>

			<object type="listbox">
				<highlight color="%fileselector_highlight_color%" />
				<condition var1="tw_set_cpu_f_at_boot" var2="1" />
				<placement x="%col3_medium_x%" y="%row6_text_y%" w="224" h="200" />
				<header background="%fileselector_header_background%" textcolor="%fileselector_header_textcolor%" separatorcolor="%fileselector_header_separatorcolor%" separatorheight="%fileselector_header_separatorheight%" />
				<fastscroll linecolor="%fastscroll_linecolor%" rectcolor="%fastscroll_rectcolor%" w="%fastscroll_w%" linew="%fastscroll_linew%" rectw="%fastscroll_rectw%" recth="%fastscroll_recth%" />
				<text>Maximum Frequency</text>
				<icon selected="radio_true" unselected="radio_false" />
				<separator color="%fileselector_separatorcolor%" height="%fileselector_separatorheight%" />
				<background color="%listbox_background%" />
				<font resource="font" spacing="%listbox_spacing%" color="%text_color%" highlightcolor="%fileselector_highlight_font_color%" />
				<data name="tw_max_cpu_f" />
				<listitem name="245000">245000</listitem>
				<listitem name="384000">384000</listitem>
				<listitem name="422400">422400</listitem>
				<listitem name="460800">460800</listitem>
				<listitem name="499200">499200</listitem>
				<listitem name="537600">537600</listitem>
				<listitem name="576000">576000</listitem>
				<listitem name="614400">614400</listitem>
				<listitem name="652800">652800</listitem>
				<listitem name="691200">691200</listitem>
				<listitem name="729600">729600</listitem>
				<listitem name="768000">768000</listitem>
				<listitem name="806400">806400</listitem>
				<listitem name="844800">844800</listitem>
				<listitem name="883200">883200</listitem>
				<listitem name="921600">921600</listitem>
				<listitem name="960000">960000</listitem>
				<listitem name="998400">998400</listitem>
				<listitem name="1036800">1036800</listitem>
				<listitem name="1075200">1075200</listitem>
				<listitem name="1113600">1113600</listitem>
				<listitem name="1152000">1152000</listitem>
				<listitem name="1190400">1190400</listitem>
			</object>
<!--
			<object type="slidervalue">
				<condition var1="tw_set_cpu_f_at_boot" var2="1" />
				<placement x="col1_x" y="%row6_text_y%" w="%slidervalue_w%" />
				<font resource="font" color="%text_color%" />
				<colors line="%slidervalue_line_clr%" slider="%slidervalue_slider_clr%" />
				<dimensions lineh="%slidervalue_lineh%" linepadding="%slidervalue_padding%" sliderw="%slidervalue_sliderw%" sliderh="%slidervalue_sliderh%" />
				<text>Maximum Frequency:</text>
				<data variable="tw_max_cpu_f" min="245000" max="1190400" />
			</object>
-->
<!--
			<object type="slidervalue">
				<condition var1="tw_set_cpu_f_at_boot" var2="1" />
				<placement x="col1_x" y="%row10_text_y%" w="%slidervalue_w%" />
				<font resource="font" color="%text_color%" />
				<colors line="%slidervalue_line_clr%" slider="%slidervalue_slider_clr%" />
				<dimensions lineh="%slidervalue_lineh%" linepadding="%slidervalue_padding%" sliderw="%slidervalue_sliderw%" sliderh="%slidervalue_sliderh%" />
				<text>Minimum Frequency:</text>
				<data variable="tw_min_cpu_f" min="245000" max="1190400" />
			</object>
-->
			<object type="checkbox">
				<placement x="%col1_x%" y="%row13_text_y%" />
				<font resource="font" color="%text_color%" />
				<text>I/O Scheduler (%tw_io_sched%)</text>
				<data variable="tw_set_io_sched_at_boot" />
				<image checked="checkbox_true" unchecked="checkbox_false" />
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<condition var1="tw_set_io_sched_at_boot" var2="1" />
				<placement x="%col1_medium_x%" y="%row14_text_y%" />
				<font resource="font_small" color="%button_text_color%" />
				<text>noop</text>
				<image resource="medium_button" />
				<action function="set">tw_io_sched=noop</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<condition var1="tw_set_io_sched_at_boot" var2="1" />
				<placement x="%col2_medium_x%" y="%row14_text_y%" />
				<font resource="font_small" color="%button_text_color%" />
				<text>cfq</text>
				<image resource="medium_button" />
				<action function="set">tw_io_sched=cfq</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%col3_medium_x%" y="%row14_text_y%" />
				<condition var1="tw_set_io_sched_at_boot" var2="1" />
				<font resource="font_small" color="%button_text_color%" />
				<text>deadline</text>
				<image resource="medium_button" />
				<action function="set">tw_io_sched=deadline</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<condition var1="tw_set_io_sched_at_boot" var2="1" />
				<placement x="%col4_medium_x%" y="%row14_text_y%" />
				<font resource="font_small" color="%button_text_color%" />
				<text>anticipatory</text>
				<image resource="medium_button" />
				<action function="set">tw_io_sched=anticipatory</action>
			</object>

			<object type="checkbox">
				<placement x="%col1_x%" y="%row17_text_y%" />
				<font resource="font" color="%text_color%" />
				<text>Free up memory after backup/restore.</text>
				<data variable="tw_set_drop_caches_at_boot" />
				<image checked="checkbox_true" unchecked="checkbox_false" />
			</object>

			<object type="text" color="%text_fail_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row18_text_y%" placement="5" />
				<text>Settings will be applied after rebooting.</text>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%col_center_x%" y="%row19_text_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>Reboot TWRP</text>
				<image resource="ext_main_button_small" />
				<action function="reboot">recovery</action>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">settings</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="haptic">
			<object type="template" name="header" />

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row1_header_y%" placement="5" />
				<text>Haptic Feedback Settings</text>
			</object>

			<object type="checkbox">
				<placement x="%col1_x%" y="%row1_text_y%" />
				<font resource="font" color="%text_color%" />
				<text>Vibrate at each button/screen press.</text>
				<data variable="tw_vibrate_after_button_press" />
				<image checked="checkbox_true" unchecked="checkbox_false" />
			</object>

			<object type="slidervalue">
				<condition var1="tw_vibrate_after_button_press" var2="1" />
				<placement x="col1_x" y="%row2_text_y%" w="%slidervalue_w%" />
				<font resource="font" color="%text_color%" />
				<colors line="%slidervalue_line_clr%" slider="%slidervalue_slider_clr%" />
				<dimensions lineh="%slidervalue_lineh%" linepadding="%slidervalue_padding%" sliderw="%slidervalue_sliderw%" sliderh="%slidervalue_sliderh%" />
				<text>Duration in ms:</text>
				<data variable="tw_button_feedback_duration_ms" min="25" max="150" />
			</object>

			<object type="checkbox">
				<placement x="%col1_x%" y="%row5_text_y%" />
				<font resource="font" color="%text_color%" />
				<text>Vibrate at backup completion.</text>
				<data variable="tw_vibrate_after_backup" />
				<image checked="checkbox_true" unchecked="checkbox_false" />
			</object>

			<object type="slidervalue">
				<condition var1="tw_vibrate_after_backup" var2="1" />
				<placement x="col1_x" y="%row6_text_y%" w="%slidervalue_w%" />
				<font resource="font" color="%text_color%" />
				<colors line="%slidervalue_line_clr%" slider="%slidervalue_slider_clr%" />
				<dimensions lineh="%slidervalue_lineh%" linepadding="%slidervalue_padding%" sliderw="%slidervalue_sliderw%" sliderh="%slidervalue_sliderh%" />
				<text>Duration in ms:</text>
				<data variable="tw_backup_feedback_duration_ms" min="100" max="500" />
			</object>

			<object type="checkbox">
				<placement x="%col1_x%" y="%row9_text_y%" />
				<font resource="font" color="%text_color%" />
				<text>Vibrate at restore completion.</text>
				<data variable="tw_vibrate_after_restore" />
				<image checked="checkbox_true" unchecked="checkbox_false" />
			</object>

			<object type="slidervalue">
				<condition var1="tw_vibrate_after_restore" var2="1" />
				<placement x="col1_x" y="%row10_text_y%" w="%slidervalue_w%" />
				<font resource="font" color="%text_color%" />
				<colors line="%slidervalue_line_clr%" slider="%slidervalue_slider_clr%" />
				<dimensions lineh="%slidervalue_lineh%" linepadding="%slidervalue_padding%" sliderw="%slidervalue_sliderw%" sliderh="%slidervalue_sliderh%" />
				<text>Duration in ms:</text>
				<data variable="tw_restore_feedback_duration_ms" min="100" max="500" />
			</object>

			<object type="checkbox">
				<placement x="%col1_x%" y="%row13_text_y%" />
				<font resource="font" color="%text_color%" />
				<text>Vibrate when an installation is completed.</text>
				<data variable="tw_vibrate_after_install" />
				<image checked="checkbox_true" unchecked="checkbox_false" />
			</object>

			<object type="slidervalue">
				<condition var1="tw_vibrate_after_install" var2="1" />
				<placement x="col1_x" y="%row14_text_y%" w="%slidervalue_w%" />
				<font resource="font" color="%text_color%" />
				<colors line="%slidervalue_line_clr%" slider="%slidervalue_slider_clr%" />
				<dimensions lineh="%slidervalue_lineh%" linepadding="%slidervalue_padding%" sliderw="%slidervalue_sliderw%" sliderh="%slidervalue_sliderh%" />
				<text>Duration in ms:</text>
				<data variable="tw_install_feedback_duration_ms" min="100" max="500" />
			</object>

			<object type="checkbox">
				<placement x="%col1_x%" y="%row17_text_y%" />
				<font resource="font" color="%text_color%" />
				<text>Vibrate at format/wipe completion.</text>
				<data variable="tw_vibrate_after_parted" />
				<image checked="checkbox_true" unchecked="checkbox_false" />
			</object>

			<object type="slidervalue">
				<condition var1="tw_vibrate_after_parted" var2="1" />
				<placement x="col1_x" y="%row18_text_y%" w="%slidervalue_w%" />
				<font resource="font" color="%text_color%" />
				<colors line="%slidervalue_line_clr%" slider="%slidervalue_slider_clr%" />
				<dimensions lineh="%slidervalue_lineh%" linepadding="%slidervalue_padding%" sliderw="%slidervalue_sliderw%" sliderh="%slidervalue_sliderh%" />
				<text>Duration in ms:</text>
				<data variable="tw_parted_feedback_duration_ms" min="100" max="500" />
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">settings</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="screen">
			<object type="template" name="header" />

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row1_header_y%" placement="5" />
				<text>Screen Settings</text>
			</object>

			<object type="button">
				<placement x="%col1_x%" y="%row2_text_y%" />
				<font resource="font" color="%text_color%" />
				<conditions>
					<condition var1="tw_screen_timeout_secs" op="=" var2="0" />
					<condition var1="tw_no_screen_timeout" op="!=" var2="1" />
				</conditions>
				<text>Enable screen timeout.</text>
				<image resource="checkbox_false" />
				<action function="set">tw_screen_timeout_secs=60</action>
			</object>

			<object type="button">
				<placement x="%col1_x%" y="%row2_text_y%" />
				<font resource="font" color="%text_color%" />
				<conditions>
					<condition var1="tw_screen_timeout_secs" op="!=" var2="0" />
					<condition var1="tw_no_screen_timeout" op="!=" var2="1" />
				</conditions>
				<text>Enable screen timeout.</text>
				<image resource="checkbox_true" />
				<action function="set">tw_screen_timeout_secs=0</action>
			</object>

			<object type="slidervalue">
				<conditions>
					<condition var1="tw_screen_timeout_secs" op="!=" var2="0" />
					<condition var1="tw_no_screen_timeout" op="!=" var2="1" />
				</conditions>
				<placement x="col1_x" y="%row4_text_y%" w="%slidervalue_w%" />
				<font resource="font" color="%text_color%" />
				<colors line="%slidervalue_line_clr%" slider="%slidervalue_slider_clr%" />
				<dimensions lineh="%slidervalue_lineh%" linepadding="%slidervalue_padding%" sliderw="%slidervalue_sliderw%" sliderh="%slidervalue_sliderh%" />
				<text>Screen timeout in seconds:</text>
				<data variable="tw_screen_timeout_secs" min="15" max="300" />
			</object>

			<object type="slidervalue">
				<condition var1="tw_has_brightnesss_file" var2="1" />
				<placement x="col1_x" y="%row12_text_y%" w="%slidervalue_w%" />
				<font resource="font" color="%text_color%" />
				<colors line="%slidervalue_line_clr%" slider="%slidervalue_slider_clr%" />
				<dimensions lineh="%slidervalue_lineh%" linepadding="%slidervalue_padding%" sliderw="%slidervalue_sliderw%" sliderh="%slidervalue_sliderh%" />
				<text>Brightness level:</text>
				<data variable="tw_brightness_pct" min="10" max="100" />
				<actions>
					<action function="set">tw_brightness=%tw_brightness_max%</action>
					<action function="compute">tw_brightness*%tw_brightness_pct%</action>
					<action function="compute">tw_brightness/100</action>
					<action function="cmd">echo %tw_brightness% > &quot;%tw_brightness_file%&quot;</action>
				</actions>
			</object>

			<object type="text" color="%text_color%">
				<condition var1="tw_enable_rotation" var2="1" />
				<font resource="font" />
				<placement x="%center_x%" y="%row15_text_y%" placement="5" />
				<text>Rotation (degrees, clockwise):</text>
			</object>

			<object type="button">
				<condition var1="tw_enable_rotation" var2="1" />
				<highlight color="%highlight_color%" />
				<placement x="%col1_medium_x%" y="%row16_text_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>0</text>
				<image resource="medium_button" />
				<actions>
					<action function="rotation">0</action>
				</actions>
			</object>

			<object type="button">
				<condition var1="tw_enable_rotation" var2="1" />
				<highlight color="%highlight_color%" />
				<placement x="%col2_medium_x%" y="%row16_text_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>90</text>
				<image resource="medium_button" />
				<actions>
					<action function="rotation">90</action>
				</actions>
			</object>

			<object type="button">
				<condition var1="tw_enable_rotation" var2="1" />
				<highlight color="%highlight_color%" />
				<placement x="%col3_medium_x%" y="%row16_text_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>180</text>
				<image resource="medium_button" />
				<actions>
					<action function="rotation">180</action>
				</actions>
			</object>

			<object type="button">
				<condition var1="tw_enable_rotation" var2="1" />
				<highlight color="%highlight_color%" />
				<placement x="%col4_medium_x%" y="%row16_text_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>270</text>
				<image resource="medium_button" />
				<actions>
					<action function="rotation">270</action>
				</actions>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">settings</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="advanced">
			<object type="template" name="header" />

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row1_header_y%" placement="5" />
				<text>Advanced</text>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%ext_col1_x%" y="%ext_row1_y%" />
				<condition var1="tw_has_external" var2="1" />
				<font resource="font" color="%button_text_color%" />
				<text>Copy Log</text>
				<image resource="ext_main_button_small" />
				<actions>
					<action function="set">tw_back=advanced</action>
					<action function="set">tw_action=copylog</action>
					<action function="set">tw_text1=Copy Log to SD Card?</action>
					<action function="set">tw_action_text1=Copying Log to SD Card...</action>
					<action function="set">tw_complete_text1=Log Copy Complete</action>
					<action function="set">tw_slider_text=Swipe to Confirm</action>
					<action function="page">confirm_action</action>
				</actions>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%ext_col1_x%" y="%ext_row2_y%" />
				<condition var1="tw_has_external" var2="1" />
				<font resource="font" color="%button_text_color%" />
				<text>Select Theme</text>
				<image resource="ext_main_button_small" />
				<action function="page">themeselect</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<conditions>
					<condition var1="tw_has_external" var2="1" />
					<condition var1="tw_allow_partition_sdcard" var2="1" />
				</conditions>
				<placement x="%ext_col2_x%" y="%ext_row1_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>Partition SD Card</text>
				<image resource="ext_main_button_small" />
				<action function="page">partsdcard</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<condition var1="tw_has_external" var2="1" />
				<placement x="%ext_col2_x%" y="%ext_row2_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>Check SD Card</text>
				<image resource="ext_main_button_small" />
				<actions>
					<action function="set">tw_back=advanced</action>
					<action function="set">tw_action=fschk</action>
					<action function="set">tw_text1=Check SD Card's Partitions?</action>
					<action function="set">tw_action_text1=Checking SD Card's partitions...</action>
					<action function="set">tw_complete_text1=Check Complete</action>
					<action function="set">tw_slider_text=Swipe to Confirm</action>
					<action function="page">confirm_action</action>
				</actions>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%ext_col1_x%" y="%ext_row3_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>Fix Permissions</text>
				<image resource="ext_main_button_small" />
				<actions>
					<action function="set">tw_back=advanced</action>
					<action function="set">tw_action=fixpermissions</action>
					<action function="set">tw_text1=Fix Permissions?</action>
					<action function="set">tw_action_text1=Fixing Permissions...</action>
					<action function="set">tw_complete_text1=Fix Permissions Complete</action>
					<action function="set">tw_slider_text=Swipe to Confirm</action>
					<action function="set">tw_show_reboot=1</action>
					<action function="page">confirm_action</action>
				</actions>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<condition var1="tw_has_sdext_partition" var2="1" />
				<placement x="%ext_col2_x%" y="%ext_row3_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>Format SD-Ext</text>
				<image resource="ext_main_button_small" />
				<action function="page">convertext</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%ext_col1_x%" y="%ext_row4_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>File Manager</text>
				<image resource="ext_main_button_small" />
				<action function="page">filemanagerlist</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<conditions>
					<condition var1="tw_htc_leo" var2="1" />
					<condition var1="tw_has_sdext_partition" var2="1" />
					<condition var1="fileexists" var2="/sdcard/NativeSD" />
				</conditions>
				<placement x="%ext_col2_x%" y="%ext_row4_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>NativeSD Manager</text>
				<image resource="ext_main_button_small" />
				<action function="page">nativesdmanager</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%ext_col1_x%" y="%ext_row5_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>Terminal</text>
				<image resource="ext_main_button_small" />
				<action function="page">terminalfolder</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%ext_col1_x%" y="%ext_row6_y%" />
				<condition var1="tw_has_external" var2="1" />
				<font resource="font" color="%button_text_color%" />
				<text>Run Script</text>
				<image resource="ext_main_button_small" />
				<action function="page">scriptselect</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<condition var1="tw_has_external" var2="1" />
				<placement x="%ext_col2_x%" y="%ext_row6_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>Run App</text>
				<image resource="ext_main_button_small" />
				<action function="page">appselect</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%ext_col2_x%" y="%ext_row5_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>ADB Sideload</text>
				<image resource="ext_main_button_small" />
				<action function="page">sideload</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<condition var1="tw_show_dumlock" var2="1" />
				<placement x="%ext_col1_x%" y="%ext_row8_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>HTC Dumlock</text>
				<image resource="ext_main_button_small" />
				<action function="page">htcdumlock</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<condition var1="tw_has_injecttwrp" var2="1" />
				<placement x="%ext_col2_x%" y="%ext_row8_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>Re-Inject TWRP</text>
				<image resource="ext_main_button_small" />
				<actions>
					<action function="set">tw_back=advanced</action>
					<action function="set">tw_action=reinjecttwrp</action>
					<action function="set">tw_text1=Re-Inject TWRP?</action>
					<action function="set">tw_action_text1=Re-Injecting TWRP...</action>
					<action function="set">tw_complete_text1=TWRP Injection Complete</action>
					<action function="set">tw_slider_text=Swipe to Confirm</action>
					<action function="page">confirm_action</action>
				</actions>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">main</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="nativesdmanager">
			<object type="template" name="header" />

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row1_header_y%" placement="5" />
				<text>Manage NativeSD contents</text>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%ext_col1_x%" y="%ext_row1_y%" />
				<condition var1="fileexists" var2="/sdcard/NativeSD" />
				<font resource="font" color="%button_text_color%" />
				<text>Settings</text>
				<image resource="ext_main_button_small" />
				<action function="page">nativesettings</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%ext_col2_x%" y="%ext_row1_y%" />
				<condition var1="fileexists" var2="/sdcard/NativeSD" />
				<font resource="font" color="%button_text_color%" />
				<text>Rom Backup</text>
				<image resource="ext_main_button_small" />
				<action function="page">nativebackup</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<conditions>
					<condition var1="tw_boot_is_mountable" var2="0" />
					<condition var1="fileexists" var2="/sdcard/NativeSD" />
				</conditions>
				<placement x="%ext_col1_x%" y="%ext_row2_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>Kernel Update</text>
				<image resource="ext_main_button_small" />
				<action function="page">nativekernel</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<condition var1="fileexists" var2="/sdcard/TWRP/NativeSD-BACKUPS" />
				<placement x="%ext_col2_x%" y="%ext_row2_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>Rom Restore</text>
				<image resource="ext_main_button_small" />
				<action function="page">nativerestore</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%ext_col1_x%" y="%ext_row3_y%" />
				<condition var1="fileexists" var2="/sdcard/NativeSD" />
				<font resource="font" color="%button_text_color%" />
				<text>Rom Delete</text>
				<image resource="ext_main_button_small" />
				<action function="page">nativedelete</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%ext_col2_x%" y="%ext_row3_y%" />
				<condition var1="fileexists" var2="/sdcard/NativeSD" />
				<font resource="font" color="%button_text_color%" />
				<text>Fix Permissions</text>
				<image resource="ext_main_button_small" />
				<action function="page">nativeperm</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%ext_col1_x%" y="%ext_row4_y%" />
				<condition var1="fileexists" var2="/sdcard/NativeSD" />
				<font resource="font" color="%button_text_color%" />
				<text>Wipe Data</text>
				<image resource="ext_main_button_small" />
				<action function="page">nativewipedata</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%ext_col2_x%" y="%ext_row4_y%" />
				<condition var1="fileexists" var2="/sdcard/NativeSD" />
				<font resource="font" color="%button_text_color%" />
				<text>Wipe Dalvik Cache</text>
				<image resource="ext_main_button_small" />
				<action function="page">nativewipedalvik</action>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">advanced</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="nativesettings">
			<object type="template" name="header" />

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row1_header_y%" placement="5" />
				<text>NativeSD Manager Settings</text>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<conditions>
					<condition var1="tw_has_sdext2_partition" var2="1" />
					<condition var1="tw_use_sdext2_partition" op="!=" var2="1" />
				</conditions>
				<placement x="%col1_x%" y="%row1_text_y%" />
				<font resource="font" color="%text_color%" />
				<text>Use /sdext2 in operations</text>
				<image resource="checkbox_false" />
				<action function="set">tw_use_sdext2_partition=1</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<conditions>
					<condition var1="tw_has_sdext2_partition" var2="1" />
					<condition var1="tw_use_sdext2_partition" op="=" var2="1" />
				</conditions>
				<placement x="%col1_x%" y="%row1_text_y%" />
				<font resource="font" color="%text_color%" />
				<text>Use /sdext2 in operations</text>
				<image resource="checkbox_true" />
				<action function="set">tw_use_sdext2_partition=0</action>
			</object>

			<object type="checkbox">
				<placement x="%col1_x%" y="%row3_text_y%" />
				<font resource="font" color="%text_color%" />
				<text>Vibrate at backup completion.</text>
				<data variable="tw_vibrate_after_sdbackup" />
				<image checked="checkbox_true" unchecked="checkbox_false" />
			</object>

			<object type="slidervalue">
				<condition var1="tw_vibrate_after_sdbackup" var2="1" />
				<placement x="col1_x" y="%row4_text_y%" w="%slidervalue_w%" />
				<font resource="font" color="%text_color%" />
				<colors line="%slidervalue_line_clr%" slider="%slidervalue_slider_clr%" />
				<dimensions lineh="%slidervalue_lineh%" linepadding="%slidervalue_padding%" sliderw="%slidervalue_sliderw%" sliderh="%slidervalue_sliderh%" />
				<text>Duration in ms:</text>
				<data variable="tw_sdbackup_feedback_duration_ms" min="100" max="500" />
			</object>

			<object type="checkbox">
				<placement x="%col1_x%" y="%row8_text_y%" />
				<font resource="font" color="%text_color%" />
				<text>Vibrate at restore completion.</text>
				<data variable="tw_vibrate_after_sdrestore" />
				<image checked="checkbox_true" unchecked="checkbox_false" />
			</object>

			<object type="slidervalue">
				<condition var1="tw_vibrate_after_sdrestore" var2="1" />
				<placement x="col1_x" y="%row9_text_y%" w="%slidervalue_w%" />
				<font resource="font" color="%text_color%" />
				<colors line="%slidervalue_line_clr%" slider="%slidervalue_slider_clr%" />
				<dimensions lineh="%slidervalue_lineh%" linepadding="%slidervalue_padding%" sliderw="%slidervalue_sliderw%" sliderh="%slidervalue_sliderh%" />
				<text>Duration in ms:</text>
				<data variable="tw_sdrestore_feedback_duration_ms" min="100" max="500" />
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">nativesdmanager</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="nativekernel">
			<object type="template" name="header" />

			<object type="text" color="%text_fail_color%">
				<!--<condition var1="emptystr" var2="%tw_sdboot_partition%" />-->
				<font resource="font" />
				<placement x="%center_x%" y="%row1_header_y%" placement="5" />
				<text>Select a 'boot' partition FIRST.</text>
			</object>

			<object type="fileselector">
				<placement x="%fileselector_x%" y="%row1_y%" w="%fileselector_width%" h="%fileselector_medium_height%" />
				<header background="%fileselector_header_background%" textcolor="%fileselector_header_textcolor%" separatorcolor="%fileselector_header_separatorcolor%" separatorheight="%fileselector_header_separatorheight%" />
				<fastscroll linecolor="%fastscroll_linecolor%" rectcolor="%fastscroll_rectcolor%" w="%fastscroll_w%" linew="%fastscroll_linew%" rectw="%fastscroll_rectw%" recth="%fastscroll_recth%" />
				<text>Select NativeSD ROM's kernel to flash:</text>
				<separator color="%fileselector_separatorcolor%" height="%fileselector_separatorheight%" />
				<sort name="tw_gui_sort_order" />
				<icon folder="folder_icon" file="file_icon" />
				<background color="%fileselector_background%" />
				<highlight color="%fileselector_highlight_color%" />
				<font resource="filelist" spacing="%fileselector_spacing%" color="%text_color%" highlightcolor="%fileselector_highlight_font_color%" />
				<filter folders="1" files="0" nav="0" />
				<path name="sd_kernel_location" default="/sdcard/NativeSD" />
				<data name="sd_kernel" />
				<selection name="sd_kernel_selection" />
			</object>

			<object type="template" name="sort_options" />

			<object type="action">
				<conditions>
					<condition var1="sd_kernel" op="modified" />
					<condition var1="notemptystr" var2="%tw_sdboot_partition%" />
				</conditions>
				<actions>
					<action function="set">tw_back=nativekernel</action>
					<action function="set">tw_action=nativekernel_run</action>
					<action function="set">tw_action_param=</action>
					<action function="set">tw_text1=Update Kernel?</action>
					<action function="set">tw_action_text1=Flashing selected kernel...</action>
					<action function="set">tw_complete_text1=Operation Completed</action>
					<action function="set">tw_slider_text=Swipe to Confirm</action>
					<action function="page">confirm_action</action>
				</actions>
			</object>

			<object type="text" color="%text_color%">
				<condition var1="notemptystr" var2="%tw_sdboot_partition%" />
				<font resource="font" />
				<placement x="%center_x%" y="%row12_text_y%" placement="5" />
				<text>Selected 'boot' partition (%tw_sdboot_partition%)</text>
			</object>

			<object type="text" color="%text_fail_color%">
				<condition var1="emptystr" var2="%tw_sdboot_partition%" />
				<font resource="font" />
				<placement x="%center_x%" y="%row12_text_y%" placement="5" />
				<text>Selected 'boot' partition (%tw_sdboot_partition%)</text>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%col1_medium_x%" y="%row13_text_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>boot</text>
				<image resource="medium_button" />
				<action function="set">tw_sdboot_partition=boot</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<condition var1="tw_has_sboot_ptn" var2="1" />
				<placement x="%col2_medium_x%" y="%row13_text_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>sboot</text>
				<image resource="medium_button" />
				<action function="set">tw_sdboot_partition=sboot</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<condition var1="tw_has_tboot_ptn" var2="1" />
				<placement x="%col3_medium_x%" y="%row13_text_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>tboot</text>
				<image resource="medium_button" />
				<action function="set">tw_sdboot_partition=tboot</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<condition var1="tw_has_vboot_ptn" var2="1" />
				<placement x="%col4_medium_x%" y="%row13_text_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>vboot</text>
				<image resource="medium_button" />
				<action function="set">tw_sdboot_partition=vboot</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<condition var1="tw_has_wboot_ptn" var2="1" />
				<placement x="%col1_medium_x%" y="%row15_text_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>wboot</text>
				<image resource="medium_button" />
				<action function="set">tw_sdboot_partition=wboot</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<condition var1="tw_has_xboot_ptn" var2="1" />
				<placement x="%col2_medium_x%" y="%row15_text_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>xboot</text>
				<image resource="medium_button" />
				<action function="set">tw_sdboot_partition=xboot</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<condition var1="tw_has_yboot_ptn" var2="1" />
				<placement x="%col3_medium_x%" y="%row15_text_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>yboot</text>
				<image resource="medium_button" />
				<action function="set">tw_sdboot_partition=yboot</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<condition var1="tw_has_zboot_ptn" var2="1" />
				<placement x="%col4_medium_x%" y="%row15_text_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>zboot</text>
				<image resource="medium_button" />
				<action function="set">tw_sdboot_partition=zboot</action>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">nativesdmanager</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="nativebackup">
			<object type="template" name="header" />

			<object type="fileselector">
				<placement x="%fileselector_x%" y="%row1_y%" w="%fileselector_width%" h="%fileselector_medium_height%" />
				<header background="%fileselector_header_background%" textcolor="%fileselector_header_textcolor%" separatorcolor="%fileselector_header_separatorcolor%" separatorheight="%fileselector_header_separatorheight%" />
				<fastscroll linecolor="%fastscroll_linecolor%" rectcolor="%fastscroll_rectcolor%" w="%fastscroll_w%" linew="%fastscroll_linew%" rectw="%fastscroll_rectw%" recth="%fastscroll_recth%" />
				<text>Select NativeSD ROM to backup:</text>
				<separator color="%fileselector_separatorcolor%" height="%fileselector_separatorheight%" />
				<sort name="tw_gui_sort_order" />
				<icon folder="folder_icon" file="file_icon" />
				<background color="%fileselector_background%" />
				<highlight color="%fileselector_highlight_color%" />
				<font resource="filelist" spacing="%fileselector_spacing%" color="%text_color%" highlightcolor="%fileselector_highlight_font_color%" />
				<filter folders="1" files="0" nav="0" />
				<path name="sd_rom_location" default="/sdcard/NativeSD" />
				<data name="sd_rom" default="" />
				<selection name="sd_rom_selection" />
			</object>

			<object type="checkbox">
				<placement x="%col1_x%" y="%row12_text_y%" />
				<font resource="font" color="%text_color%" />
				<text>Backup /system.</text>
				<data variable="tw_sd_backup_system" />
				<image checked="checkbox_true" unchecked="checkbox_false" />
			</object>

			<object type="checkbox">
				<placement x="%col1_x%" y="%row13_text_y%" />
				<font resource="font" color="%text_color%" />
				<text>Backup /data.</text>
				<data variable="tw_sd_backup_data" />
				<image checked="checkbox_true" unchecked="checkbox_false" />
			</object>

			<object type="checkbox">
				<placement x="%col1_x%" y="%row14_text_y%" />
				<font resource="font" color="%text_color%" />
				<text>Backup /boot.</text>
				<data variable="tw_sd_backup_boot" />
				<image checked="checkbox_true" unchecked="checkbox_false" />
			</object>

			<object type="checkbox">
				<placement x="%col1_x%" y="%row15_text_y%" />
				<font resource="font" color="%text_color%" />
				<text>Enable compression.</text>
				<data variable="tw_sd_use_compression" />
				<image checked="checkbox_true" unchecked="checkbox_false" />
			</object>

			<object type="checkbox">
				<placement x="%col1_x%" y="%row16_text_y%" />
				<font resource="font" color="%text_color%" />
				<text>Exclude dalvik-cache from backup.</text>
				<data variable="tw_sd_skip_dalvik" />
				<image checked="checkbox_true" unchecked="checkbox_false" />
			</object>

			<object type="checkbox">
				<placement x="%col1_x%" y="%row17_text_y%" />
				<font resource="font" color="%text_color%" />
				<text>Skip MD5 generation during backup.</text>
				<data variable="tw_sd_skip_md5_generate" />
				<image checked="checkbox_true" unchecked="checkbox_false" />
			</object>

			<object type="template" name="sort_options" />

			<object type="action">
				<condition var1="sd_rom" op="modified" />
				<actions>
					<action function="set">tw_back=nativebackup</action>
					<action function="set">tw_action=nativebackup_run</action>
					<action function="set">tw_action_param=</action>
					<action function="set">tw_text1=Backup Rom?</action>
					<action function="set">tw_action_text1=Backing up selected Rom...</action>
					<action function="set">tw_complete_text1=Operation Completed</action>
					<action function="set">tw_slider_text=Swipe to Confirm</action>
					<action function="page">confirm_action</action>
				</actions>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">nativesdmanager</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="nativerestore">
			<object type="template" name="header" />

			<object type="fileselector">
				<placement x="%fileselector_x%" y="%row1_y%" w="%fileselector_width%" h="%fileselector_medium_height%" />
				<header background="%fileselector_header_background%" textcolor="%fileselector_header_textcolor%" separatorcolor="%fileselector_header_separatorcolor%" separatorheight="%fileselector_header_separatorheight%" />
				<fastscroll linecolor="%fastscroll_linecolor%" rectcolor="%fastscroll_rectcolor%" w="%fastscroll_w%" linew="%fastscroll_linew%" rectw="%fastscroll_rectw%" recth="%fastscroll_recth%" />
				<text>Select NativeSD ROM to restore:</text>
				<separator color="%fileselector_separatorcolor%" height="%fileselector_separatorheight%" />
				<sort name="tw_gui_sort_order" />
				<icon folder="folder_icon" file="file_icon" />
				<background color="%fileselector_background%" />
				<highlight color="%fileselector_highlight_color%" />
				<font resource="filelist" spacing="%fileselector_spacing%" color="%text_color%" highlightcolor="%fileselector_highlight_font_color%" />
				<filter folders="1" files="0" nav="0" />
				<path name="tw_sdbackups_folder" />
				<data name="sd_rom2" default="" />
				<selection name="sd_rom_selection2" />
			</object>

			<object type="checkbox">
				<placement x="%col1_x%" y="%row12_text_y%" />
				<font resource="font" color="%text_color%" />
				<text>Restore /system.</text>
				<data variable="tw_sd_restore_system" />
				<image checked="checkbox_true" unchecked="checkbox_false" />
			</object>

			<object type="checkbox">
				<placement x="%col1_x%" y="%row13_text_y%" />
				<font resource="font" color="%text_color%" />
				<text>Restore /data.</text>
				<data variable="tw_sd_restore_data" />
				<image checked="checkbox_true" unchecked="checkbox_false" />
			</object>

			<object type="checkbox">
				<placement x="%col1_x%" y="%row14_text_y%" />
				<font resource="font" color="%text_color%" />
				<text>Restore /boot.</text>
				<data variable="tw_sd_restore_boot" />
				<image checked="checkbox_true" unchecked="checkbox_false" />
			</object>

			<object type="checkbox">
				<placement x="%col1_x%" y="%row15_text_y%" />
				<font resource="font" color="%text_color%" />
				<text>Skip MD5 verification of backup files.</text>
				<data variable="tw_sd_skip_md5_check" />
				<image checked="checkbox_true" unchecked="checkbox_false" />
			</object>

			<object type="template" name="sort_options" />

			<object type="action">
				<condition var1="sd_rom2" op="modified" />
				<actions>
					<action function="set">tw_back=nativerestore</action>
					<action function="set">tw_action=nativerestore_run</action>
					<action function="set">tw_action_param=</action>
					<action function="set">tw_text1=Restore Rom?</action>
					<action function="set">tw_action_text1=Restoring selected Rom...</action>
					<action function="set">tw_complete_text1=Operation Completed</action>
					<action function="set">tw_slider_text=Swipe to Confirm</action>
					<action function="page">confirm_action</action>
				</actions>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">nativesdmanager</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="nativedelete">
			<object type="template" name="header" />

			<object type="fileselector">
				<placement x="%fileselector_x%" y="%row1_y%" w="%fileselector_width%" h="%fileselector_install_height%" />
				<header background="%fileselector_header_background%" textcolor="%fileselector_header_textcolor%" separatorcolor="%fileselector_header_separatorcolor%" separatorheight="%fileselector_header_separatorheight%" />
				<fastscroll linecolor="%fastscroll_linecolor%" rectcolor="%fastscroll_rectcolor%" w="%fastscroll_w%" linew="%fastscroll_linew%" rectw="%fastscroll_rectw%" recth="%fastscroll_recth%" />
				<text>Select NativeSD ROM to remove:</text>
				<separator color="%fileselector_separatorcolor%" height="%fileselector_separatorheight%" />
				<sort name="tw_gui_sort_order" />
				<icon folder="folder_icon" file="file_icon" />
				<background color="%fileselector_background%" />
				<highlight color="%fileselector_highlight_color%" />
				<font resource="filelist" spacing="%fileselector_spacing%" color="%text_color%" highlightcolor="%fileselector_highlight_font_color%" />
				<filter folders="1" files="0" nav="0" />
				<path name="sd_rom_location3" default="/sdcard/NativeSD" />
				<data name="sd_rom3" default="" />
				<selection name="sd_rom_selection3" />
			</object>

			<object type="template" name="sort_options" />

			<object type="action">
				<condition var1="sd_rom3" op="modified" />
				<actions>
					<action function="set">tw_back=nativedelete</action>
					<action function="set">tw_action=nativedelete_run</action>
					<action function="set">tw_action_param=</action>
					<action function="set">tw_text1=Delete Rom?</action>
					<action function="set">tw_action_text1=Removing selected Rom...</action>
					<action function="set">tw_complete_text1=Operation Completed</action>
					<action function="set">tw_slider_text=Swipe to Confirm</action>
					<action function="page">confirm_action</action>
				</actions>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">nativesdmanager</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="nativeperm">
			<object type="template" name="header" />

			<object type="fileselector">
				<placement x="%fileselector_x%" y="%row1_y%" w="%fileselector_width%" h="%fileselector_install_height%" />
				<header background="%fileselector_header_background%" textcolor="%fileselector_header_textcolor%" separatorcolor="%fileselector_header_separatorcolor%" separatorheight="%fileselector_header_separatorheight%" />
				<fastscroll linecolor="%fastscroll_linecolor%" rectcolor="%fastscroll_rectcolor%" w="%fastscroll_w%" linew="%fastscroll_linew%" rectw="%fastscroll_rectw%" recth="%fastscroll_recth%" />
				<text>Select NativeSD ROM to fix permissions:</text>
				<separator color="%fileselector_separatorcolor%" height="%fileselector_separatorheight%" />
				<sort name="tw_gui_sort_order" />
				<icon folder="folder_icon" file="file_icon" />
				<background color="%fileselector_background%" />
				<highlight color="%fileselector_highlight_color%" />
				<font resource="filelist" spacing="%fileselector_spacing%" color="%text_color%" highlightcolor="%fileselector_highlight_font_color%" />
				<filter folders="1" files="0" nav="0" />
				<path name="sd_rom_location4" default="/sdcard/NativeSD" />
				<data name="sd_rom4" default="" />
				<selection name="sd_rom_selection4" />
			</object>

			<object type="template" name="sort_options" />

			<object type="action">
				<condition var1="sd_rom4" op="modified" />
				<actions>
					<action function="set">tw_back=nativeperm</action>
					<action function="set">tw_action=nativeperm_run</action>
					<action function="set">tw_action_param=</action>
					<action function="set">tw_text1=Fix Permissions?</action>
					<action function="set">tw_action_text1=Fixing permissions on selected Rom...</action>
					<action function="set">tw_complete_text1=Operation Completed</action>
					<action function="set">tw_slider_text=Swipe to Confirm</action>
					<action function="page">confirm_action</action>
				</actions>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">nativesdmanager</action>
			</object>

			<object type="template" name="footer" />
			</page>

			<page name="nativewipedata">
			<object type="template" name="header" />

			<object type="fileselector">
				<placement x="%fileselector_x%" y="%row1_y%" w="%fileselector_width%" h="%fileselector_install_height%" />
				<header background="%fileselector_header_background%" textcolor="%fileselector_header_textcolor%" separatorcolor="%fileselector_header_separatorcolor%" separatorheight="%fileselector_header_separatorheight%" />
				<fastscroll linecolor="%fastscroll_linecolor%" rectcolor="%fastscroll_rectcolor%" w="%fastscroll_w%" linew="%fastscroll_linew%" rectw="%fastscroll_rectw%" recth="%fastscroll_recth%" />
				<text>Select NativeSD ROM to wipe data:</text>
				<separator color="%fileselector_separatorcolor%" height="%fileselector_separatorheight%" />
				<sort name="tw_gui_sort_order" />
				<icon folder="folder_icon" file="file_icon" />
				<background color="%fileselector_background%" />
				<highlight color="%fileselector_highlight_color%" />
				<font resource="filelist" spacing="%fileselector_spacing%" color="%text_color%" highlightcolor="%fileselector_highlight_font_color%" />
				<filter folders="1" files="0" nav="0" />
				<path name="sd_rom_location5" default="/sdcard/NativeSD" />
				<data name="sd_rom5" default="" />
				<selection name="sd_rom_selection5" />
			</object>

			<object type="template" name="sort_options" />

			<object type="action">
				<condition var1="sd_rom5" op="modified" />
				<actions>
					<action function="set">tw_back=nativewipedata</action>
					<action function="set">tw_action=nativewipedata_run</action>
					<action function="set">tw_action_param=</action>
					<action function="set">tw_text1=Wipe Data?</action>
					<action function="set">tw_action_text1=Wiping data on selected Rom...</action>
					<action function="set">tw_complete_text1=Operation Completed</action>
					<action function="set">tw_slider_text=Swipe to Confirm</action>
					<action function="page">confirm_action</action>
				</actions>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">nativesdmanager</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="nativewipedalvik">
			<object type="template" name="header" />

			<object type="fileselector">
				<placement x="%fileselector_x%" y="%row1_y%" w="%fileselector_width%" h="%fileselector_install_height%" />
				<header background="%fileselector_header_background%" textcolor="%fileselector_header_textcolor%" separatorcolor="%fileselector_header_separatorcolor%" separatorheight="%fileselector_header_separatorheight%" />
				<fastscroll linecolor="%fastscroll_linecolor%" rectcolor="%fastscroll_rectcolor%" w="%fastscroll_w%" linew="%fastscroll_linew%" rectw="%fastscroll_rectw%" recth="%fastscroll_recth%" />
				<text>Select NativeSD ROM to wipe dalvik-cache:</text>
				<separator color="%fileselector_separatorcolor%" height="%fileselector_separatorheight%" />
				<sort name="tw_gui_sort_order" />
				<icon folder="folder_icon" file="file_icon" />
				<background color="%fileselector_background%" />
				<highlight color="%fileselector_highlight_color%" />
				<font resource="filelist" spacing="%fileselector_spacing%" color="%text_color%" highlightcolor="%fileselector_highlight_font_color%" />
				<filter folders="1" files="0" nav="0" />
				<path name="sd_rom_location6" default="/sdcard/NativeSD" />
				<data name="sd_rom6" default="" />
				<selection name="sd_rom_selection6" />
			</object>

			<object type="template" name="sort_options" />

			<object type="action">
				<condition var1="sd_rom6" op="modified" />
				<actions>
					<action function="set">tw_back=nativewipedalvik</action>
					<action function="set">tw_action=nativewipedalvik_run</action>
					<action function="set">tw_action_param=</action>
					<action function="set">tw_text1=Wipe Dalvik-Cache?</action>
					<action function="set">tw_action_text1=Wiping dalvik-cache on selected Rom...</action>
					<action function="set">tw_complete_text1=Operation Completed</action>
					<action function="set">tw_slider_text=Swipe to Confirm</action>
					<action function="page">confirm_action</action>
				</actions>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">nativesdmanager</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="themeselect">
			<object type="template" name="header" />

			<object type="fileselector">
				<placement x="%fileselector_x%" y="%row1_y%" w="%fileselector_width%" h="%fileselector_medium_height%" />
				<header background="%fileselector_header_background%" textcolor="%fileselector_header_textcolor%" separatorcolor="%fileselector_header_separatorcolor%" separatorheight="%fileselector_header_separatorheight%" />
				<fastscroll linecolor="%fastscroll_linecolor%" rectcolor="%fastscroll_rectcolor%" w="%fastscroll_w%" linew="%fastscroll_linew%" rectw="%fastscroll_rectw%" recth="%fastscroll_recth%" />
				<text>Select a theme:</text>
				<separator color="%fileselector_separatorcolor%" height="%fileselector_separatorheight%" />
				<sort name="tw_gui_sort_order" />
				<icon folder="folder_icon" file="file_icon" />
				<background color="%fileselector_background%" />
				<highlight color="%fileselector_highlight_color%" />
				<font resource="filelist" spacing="%fileselector_spacing%" color="%text_color%" highlightcolor="%fileselector_highlight_font_color%" />
				<filter folders="1" files="0" nav="0" />
				<path name="tw_theme_path" default="/sdcard/TWRP/theme" />
				<data name="tw_theme_file" />
				<selection name="tw_theme_selection" />
			</object>

			<object type="template" name="sort_options" />

			<object type="action">
				<condition var1="tw_theme_file" op="modified" />
				<action function="page">themecheck</action>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">advanced</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<condition var1="notemptystr" var2="%tw_sel_theme_path%" />
				<placement x="%col_center_x%" y="%ext_row6_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>Use Built-In UI</text>
				<image resource="ext_main_button_small" />
				<actions>
					<action function="set">tw_sel_theme_path=</action>
					<action function="reload"></action>
				</actions>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="themecheck">
			<object type="action">
				<action function="fileexists">%tw_theme_file%/ui.zip</action>
			</object>

			<object type="action">
				<conditions>
					<condition var1="tw_operation_state" var2="1" />
					<condition var1="tw_operation_status" var2="0" />
				</conditions>
				<action function="page">themeconfirm</function>
			</object>

			<object type="action">
				<conditions>
					<condition var1="tw_operation_state" var2="1" />
					<condition var1="tw_operation_status" var2="1" />
				</conditions>
				<action function="page">themeselect</function>
			</object>
		</page>

		<page name="themeconfirm">
			<object type="template" name="header" />

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row1_text_y%" placement="5"/>
				<text>Load %tw_theme_file%</text>
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row10_text_y%" placement="5"/>
				<text>Press back button to cancel.</text>
			</object>

			<object type="slider">
				<placement x="%slider_x%" y="%slider_y%" />
				<resource base="slider" used="slider-used" touch="slider-touch" />
				<actions>
					<action function="set">tw_sel_theme_path=%tw_theme_file%/ui.zip</action>
					<action function="reload"></action>
				</actions>
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%slider_text_y%" placement="4" />
				<text>Swipe to Confirm</text>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">themeselect</action>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="scriptselect">
			<object type="template" name="header" />

			<object type="fileselector">
				<placement x="%fileselector_x%" y="%row1_text_y%" w="%fileselector_width%" h="%fileselector_install_height%" />
				<header background="%fileselector_header_background%" textcolor="%fileselector_header_textcolor%" separatorcolor="%fileselector_header_separatorcolor%" separatorheight="%fileselector_header_separatorheight%" />
				<fastscroll linecolor="%fastscroll_linecolor%" rectcolor="%fastscroll_rectcolor%" w="%fastscroll_w%" linew="%fastscroll_linew%" rectw="%fastscroll_rectw%" recth="%fastscroll_recth%" />
				<text>Select a script to Run:</text>
				<separator color="%fileselector_separatorcolor%" height="%fileselector_separatorheight%" />
				<sort name="tw_gui_sort_order" />
				<icon folder="folder_icon" file="file_icon" />
				<background color="%fileselector_background%" />
				<highlight color="%fileselector_highlight_color%" />
				<font resource="filelist" spacing="%fileselector_spacing%" color="%text_color%" highlightcolor="%fileselector_highlight_font_color%" />
				<filter extn=".sh" folders="1" files="1" />
				<path name="tw_scripts_folder" default="/sdcard/TWRP/scripts" />
				<data name="tw_script_file" />
				<selection name="tw_script_selection" />
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%ext_col1_x%" y="%row17_text_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>Storage: %tw_storage_display_name% (%tw_storage_free_size% MB)</text>
				<image resource="ext_main_button_big2" />
				<actions>
					<action function="set">tw_back=scriptselect</action>
					<action function="page">selectstorage</action>
				</actions>
			</object>

			<object type="template" name="sort_options" />

			<object type="action">
				<condition var1="tw_script_file" op="modified" />
				<actions>
					<action function="page">scriptconfirm</action>
				</actions>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">advanced</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="scriptconfirm">
			<object type="template" name="header" />

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row1_text_y%" placement="5"/>
				<text>Execute %tw_script_file%</text>
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row2_text_y%" placement="5"/>
				<text>%tw_filename1%</text>
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row10_text_y%" placement="5"/>
				<text>Press back button to cancel.</text>
			</object>

			<object type="slider">
				<placement x="%slider_x%" y="%slider_y%" />
				<resource base="slider" used="slider-used" touch="slider-touch" />
				<actions>
					<action function="set">tw_back=scriptselect</action>
					<action function="set">tw_action=script_run</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_action_text1=Running selected script</action>
					<action function="set">tw_action_text2=The duration depends on the script.</action>
					<action function="set">tw_complete_text1=Operation Completed</action>
					<action function="page">action_page</action>
				</actions>
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%slider_text_y%" placement="4" />
				<text>Swipe to Confirm</text>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">scriptselect</action>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="appselect">
			<object type="template" name="header" />

			<object type="fileselector">
				<placement x="%fileselector_x%" y="%row1_text_y%" w="%fileselector_width%" h="%fileselector_install_height%" />
				<header background="%fileselector_header_background%" textcolor="%fileselector_header_textcolor%" separatorcolor="%fileselector_header_separatorcolor%" separatorheight="%fileselector_header_separatorheight%" />
				<fastscroll linecolor="%fastscroll_linecolor%" rectcolor="%fastscroll_rectcolor%" w="%fastscroll_w%" linew="%fastscroll_linew%" rectw="%fastscroll_rectw%" recth="%fastscroll_recth%" />
				<text>Select a recovery app to run:</text>
				<separator color="%fileselector_separatorcolor%" height="%fileselector_separatorheight%" />
				<sort name="tw_gui_sort_order" />
				<icon folder="folder_icon" file="file_icon" />
				<background color="%fileselector_background%" />
				<highlight color="%fileselector_highlight_color%" />
				<font resource="filelist" spacing="%fileselector_spacing%" color="%text_color%" highlightcolor="%fileselector_highlight_font_color%" />
				<filter extn=".zip" folders="1" files="1" />
				<path name="tw_app_folder" default="/sdcard/TWRP/app" />
				<data name="tw_app_file" />
				<selection name="tw_app_selection" />
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%ext_col1_x%" y="%row17_text_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>Storage: %tw_storage_display_name% (%tw_storage_free_size% MB)</text>
				<image resource="ext_main_button_big2" />
				<actions>
					<action function="set">tw_back=appselect</action>
					<action function="page">selectstorage</action>
				</actions>
			</object>

			<object type="template" name="sort_options" />

			<object type="action">
				<condition var1="tw_app_file" op="modified" />
				<actions>
					<action function="page">appconfirm</action>
				</actions>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">advanced</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="appconfirm">
			<object type="template" name="header" />

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row1_text_y%" placement="5"/>
				<text>Ready to load</text>
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row2_text_y%" placement="5"/>
				<text>%tw_app_file%</text>
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row10_text_y%" placement="5"/>
				<text>Press back button to cancel.</text>
			</object>

			<object type="slider">
				<placement x="%slider_x%" y="%slider_y%" />
				<resource base="slider" used="slider-used" touch="slider-touch" />
				<action function="app_run">apprun</action>
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%slider_text_y%" placement="4" />
				<text>Swipe to Confirm</text>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">appselect</action>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="apprun">
			<object type="template" name="header" />

			<object type="console">
				<placement x="%console_x%" y="%row1_y%" w="%console_width%" h="%console_install_height%" />
				<color foreground="%console_foreground%" background="%console_background%" scroll="%console_scroll%" />
				<font resource="fixed" />
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row17_text_y%" placement="5" />
				<text>Running 'recovery' application</text>
			</object>

			<object type="text" color="%text_color%">
				<font resource="mediumfont" />
				<placement x="%center_x%" y="%row18_text_y%" placement="5" />
				<text>%tw_app_file%</text>
			</object>

			<object type="template" name="progress_bar" />

			<object type="action">
				<condition var1="tw_operation_state" var2="1" />
				<action function="page">appselect</action>
			</object>
		</page>

		<page name="partsdcard">
			<object type="template" name="header" />

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row1_header_y%" placement="5" />
				<text>Partition External Storage</text>
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row1_text_y%" placement="5" />
				<text>-------------------/sdcard-------------------</text>
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%col1_x%" y="%row2_text_y%" />
				<text>FS-Type:</text>
			</object>

			<object type="text" color="%text_highlight_color%">
				<font resource="font" />
				<placement x="%ext_col1_x%" y="row3_text_y" />
				<text>%tw_sdcard_file_system%</text>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<condition var1="tw_show_ntfs" var2="1" />
				<placement x="%col2_medium_x%" y="%row2_text_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>NTFS</text>
				<image resource="medium_button" />
				<action function="set">tw_sdcard_file_system=ntfs</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%col3_medium_x%" y="%row2_text_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>VFAT</text>
				<image resource="medium_button" />
				<action function="set">tw_sdcard_file_system=vfat</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<condition var1="tw_show_exfat" var2="1" />
				<placement x="%col4_medium_x%" y="%row2_text_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>EXFAT</text>
				<image resource="medium_button" />
				<action function="set">tw_sdcard_file_system=exfat</action>
			</object>

			<object type="checkbox">
				<condition var1="%tw_sdcard_file_system%" op="==" var2="ntfs" />
				<placement x="%col1_x%" y="%row4_text_y%" />
				<font resource="font" color="%text_color%" />
				<text>Perform quick (fast) format.</text>
				<data variable="tw_mkntfs_quick_format" />
				<image checked="checkbox_true" unchecked="checkbox_false" />
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row5_text_y%" placement="5" />
				<text>-------------------/sd-ext-------------------</text>
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%col1_x%" y="%row6_text_y%" />
				<text>FS-Type:</text>
			</object>

			<object type="text" color="%text_highlight_color%">
				<font resource="font" />
				<placement x="%ext_col1_x%" y="%row7_text_y%" />
				<text>%tw_sdpart_file_system%</text>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%col2_medium_x%" y="%row6_text_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>EXT3</text>
				<image resource="medium_button" />
				<action function="set">tw_sdpart_file_system=ext3</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<condition var1="tw_sdext_disable_ext4" var2="0" />
				<placement x="%col3_medium_x%" y="%row6_text_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>EXT4</text>
				<image resource="medium_button" />
				<action function="set">tw_sdpart_file_system=ext4</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%col4_medium_x%" y="%row6_text_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>NILFS2</text>
				<image resource="medium_button" />
				<action function="set">tw_sdpart_file_system=nilfs2</action>
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%col1_x%" y="%row9_text_y%" />
				<text>Size (MB):</text>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<image resource="ext-minus_button" />
				<placement x="%col2_medium_x%" y="%row9_text_y%" h="25" />
				<font resource="font" color="%button_text_color%" />
				<text></text>
				<action function="addsubtract">tw_sdext_size-128</action>
			</object>

			<object type="text" color="%text_highlight_color%">
				<font resource="font" />
				<condition var1="tw_sdext_size" op="!=" var2="0" />
				<placement x="295" y="%row9_text_y%" placement="5" />
				<text>%tw_sdext_size%</text>
			</object>

			<object type="text" color="%text_fail_color%">
				<font resource="font" />
				<condition var1="tw_sdext_size" var2="0" />
				<placement x="295" y="%row9_text_y%" placement="5" />
				<text>%tw_sdext_size%</text>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<image resource="ext-plus_button" />
				<placement x="%col4_medium_x%" y="%row9_text_y%" h="25" />
				<font resource="font" color="%button_text_color%" />
				<text></text>
				<action function="addsubtract">tw_sdext_size+128</action>
			</object>

			<object type="text" color="%text_color%">
				<condition var1="tw_sdext_size" op="!=" var2="0" />
				<font resource="font" />
				<placement x="%center_x%" y="%row10_text_y%" placement="5" />
				<text>-------------------/sdext2-------------------</text>
			</object>

			<object type="text" color="%text_color%">
				<condition var1="tw_sdext_size" op="!=" var2="0" />
				<font resource="font" />
				<placement x="%col1_x%" y="%row11_text_y%" />
				<text>FS-Type:</text>
			</object>

			<object type="text" color="%text_highlight_color%">
				<condition var1="tw_sdext_size" op="!=" var2="0" />
				<font resource="font" />
				<placement x="%ext_col1_x%" y="%row12_text_y%" />
				<text>%tw_sdpart2_file_system%</text>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<condition var1="tw_sdext_size" op="!=" var2="0" />
				<placement x="%col2_medium_x%" y="%row11_text_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>EXT3</text>
				<image resource="medium_button" />
				<action function="set">tw_sdpart2_file_system=ext3</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<conditions>
					<condition var1="tw_sdext_size" op="!=" var2="0" />
					<condition var1="tw_sdext_disable_ext4" var2="0" />
				</conditions>
				<placement x="%col3_medium_x%" y="%row11_text_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>EXT4</text>
				<image resource="medium_button" />
				<action function="set">tw_sdpart2_file_system=ext4</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<condition var1="tw_sdext_size" op="!=" var2="0" />
				<placement x="%col4_medium_x%" y="%row11_text_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>NILFS2</text>
				<image resource="medium_button" />
				<action function="set">tw_sdpart2_file_system=nilfs2</action>
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<condition var1="tw_sdext_size" op="!=" var2="0" />
				<placement x="%col1_x%" y="%row14_text_y%" />
				<text>Size (MB):</text>
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<conditions>
					<condition var1="tw_sdext_size" op="!=" var2="0" />
					<condition var1="tw_sdext2_size" op="!=" var2="0" />
				</conditions>
				<placement x="%col1_x%" y="%row14_text_y%" />
				<text>Size (MB):</text>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<condition var1="tw_sdext_size" op="!=" var2="0" />
				<image resource="ext-minus_button" />
				<placement x="%col2_medium_x%" y="%row14_text_y%" h="25" />
				<font resource="font" color="%button_text_color%" />
				<text></text>
				<action function="addsubtract">tw_sdext2_size-128</action>
			</object>

			<object type="text" color="%text_fail_color%">
				<font resource="font" />
				<conditions>
					<condition var1="tw_sdext_size" op="!=" var2="0" />
					<condition var1="tw_sdext2_size" var2="0" />
				</conditions>
				<placement x="295" y="%row14_text_y%" placement="5" />
				<text>%tw_sdext2_size%</text>
			</object>

			<object type="text" color="%text_highlight_color%">
				<font resource="font" />
				<conditions>
					<condition var1="tw_sdext_size" op="!=" var2="0" />
					<condition var1="tw_sdext2_size" op="!=" var2="0" />
				</conditions>
				<placement x="295" y="%row14_text_y%" placement="5" />
				<text>%tw_sdext2_size%</text>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<condition var1="tw_sdext_size" op="!=" var2="0" />
				<image resource="ext-plus_button" />
				<placement x="%col4_medium_x%" y="%row14_text_y%" h="25" />
				<font resource="font" color="%button_text_color%" />
				<text></text>
				<action function="addsubtract">tw_sdext2_size+128</action>
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row15_text_y%" placement="5" />
				<text>--------------------/swap--------------------</text>
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%col1_x%" y="%row16_text_y%" />
				<text>Size (MB):</text>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<image resource="ext-minus_button" />
				<placement x="%col2_medium_x%" y="%row16_text_y%" />
				<font resource="font" color="%button_text_color%" />
				<text></text>
				<action function="addsubtract">tw_swap_size-32</action>
			</object>

			<object type="text" color="%text_fail_color%">
				<font resource="font" />
				<condition var1="tw_swap_size" var2="0" />
				<placement x="295" y="%row16_text_y%" placement="5" />
				<text>%tw_swap_size%</text>
			</object>

			<object type="text" color="%text_highlight_color%">
				<font resource="font" />
				<condition var1="tw_swap_size" op="!=" var2="0" />
				<placement x="295" y="%row16_text_y%" placement="5" />
				<text>%tw_swap_size%</text>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<image resource="ext-plus_button" />
				<placement x="%col4_medium_x%" y="%row16_text_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>  32</text>
				<action function="addsubtract">tw_swap_size+32</action>
			</object>

			<object type="slider">
				<condition var1="notemptystr" var2="%tw_sdcard_file_system%" />
				<placement x="%slider_x%" y="%slider_y%" />
				<resource base="slider" used="slider-used" touch="slider-touch" />
				<action function="page">partsdcardaction</action>
				<actions>
					<action function="set">tw_back=partsdcard</action>
					<action function="set">tw_action=partitionsd</action>
					<action function="set">tw_action_text1=Partitioning SD Card...</action>
					<action function="set">tw_action_text2=This will take a few minutes.</action>
					<action function="set">tw_complete_text1=Partitioning Complete</action>
					<action function="page">action_page</action>
				</actions>
			</object>

			<object type="text" color="%text_color%">
				<condition var1="notemptystr" var2="%tw_sdcard_file_system%" />
				<font resource="font" />
				<placement x="%center_x%" y="%slider_text_y%" placement="4" />
				<text>Swipe to Partition</text>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">advanced</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="convertext">
			<object type="template" name="header" />

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row1_header_y%" placement="5" />
				<text>SD-Ext partition's file system (%tw_sdpart_file_system%)</text>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%col1_medium_x%" y="%row1_text_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>EXT2</text>
				<image resource="medium_button" />
				<action function="set">tw_sdpart_file_system=ext2</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%col2_medium_x%" y="%row1_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>EXT3</text>
				<image resource="medium_button" />
				<action function="set">tw_sdpart_file_system=ext3</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%col3_medium_x%" y="%row1_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>EXT4</text>
				<image resource="medium_button" />
				<action function="set">tw_sdpart_file_system=ext4</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%col4_medium_x%" y="%row1_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>NILFS2</text>
				<image resource="medium_button" />
				<action function="set">tw_sdpart_file_system=nilfs2</action>
			</object>

			<object type="text" color="%text_color%">
				<condition var1="tw_rescue_ext_contents" op="!=" var2="1" />
				<font resource="font" />
				<placement x="%center_x%" y="%row4_text_y%" placement="5" />
				<text>/sd-ext contents will be lost.</text>
			</object>

			<object type="text" color="%text_color%">
				<condition var1="tw_rescue_ext_contents" op="!=" var2="1" />
				<font resource="font" />
				<placement x="%center_x%" y="%row5_text_y%" placement="5" />
				<text>This action cannot be undone!</text>
			</object>

			<object type="text" color="%text_color%">
				<condition var1="tw_rescue_ext_contents" var2="1" />
				<font resource="font" />
				<placement x="%center_x%" y="%row4_text_y%" placement="5" />
				<text>/sd-ext contents will remain intact.</text>
			</object>

			<object type="slider">
				<placement x="%slider_x%" y="%row6_text_y%" />
				<resource base="slider" used="slider-used" touch="slider-touch" />
				<action function="page">partsdcardaction</action>
				<actions>
					<action function="set">tw_back=convertext</action>
					<action function="set">tw_action=convertextfs</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_action_text1=Re-formatting SD-Ext partition...</action>
					<action function="set">tw_action_text2=This will take a few minutes.</action>
					<action function="set">tw_complete_text1=Operation Completed</action>
					<action function="page">action_page</action>
				</actions>
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%ext_slider1_text_y%" placement="4" />
				<text>Swipe to format SD-Ext</text>
			</object>

			<object type="checkbox">
				<placement x="%col1_x%" y="%row9_text_y%" />
				<font resource="font" color="%text_color%" />
				<text>Try to rescue SD-Ext partition's contents</text>
				<data variable="tw_rescue_ext_contents" />
				<image checked="checkbox_true" unchecked="checkbox_false" />
			</object>

			<object type="text" color="%text_color%">
				<condition var1="tw_has_sdext2_partition" var2="1" />
				<font resource="font" />
				<placement x="%center_x%" y="%row11_text_y%" placement="5" />
				<text>Second SD-Ext partition's file system (%tw_sdpart2_file_system%)</text>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<condition var1="tw_has_sdext2_partition" var2="1" />
				<placement x="%col1_medium_x%" y="%row12_text_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>EXT2</text>
				<image resource="medium_button" />
				<action function="set">tw_sdpart2_file_system=ext2</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<condition var1="tw_has_sdext2_partition" var2="1" />
				<placement x="%col2_medium_x%" y="%row12_text_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>EXT3</text>
				<image resource="medium_button" />
				<action function="set">tw_sdpart2_file_system=ext3</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<condition var1="tw_has_sdext2_partition" var2="1" />
				<placement x="%col3_medium_x%" y="%row12_text_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>EXT4</text>
				<image resource="medium_button" />
				<action function="set">tw_sdpart2_file_system=ext4</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<condition var1="tw_has_sdext2_partition" var2="1" />
				<placement x="%col4_medium_x%" y="%row12_text_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>NILFS2</text>
				<image resource="medium_button" />
				<action function="set">tw_sdpart2_file_system=nilfs2</action>
			</object>

			<object type="text" color="%text_color%">
				<conditions>
					<condition var1="tw_has_sdext2_partition" var2="1" />
					<condition var1="tw_rescue_ext_contents" op="!=" var2="1" />
				</conditions>
				<font resource="font" />
				<placement x="%center_x%" y="%row15_text_y%" placement="5" />
				<text>/sdext2 contents will be lost.</text>
			</object>

			<object type="text" color="%text_color%">
				<conditions>
					<condition var1="tw_has_sdext2_partition" var2="1" />
					<condition var1="tw_rescue_ext_contents" op="!=" var2="1" />
				</conditions>
				<font resource="font" />
				<placement x="%center_x%" y="%row16_text_y%" placement="5" />
				<text>This action cannot be undone!</text>
			</object>

			<object type="text" color="%text_color%">
				<conditions>
					<condition var1="tw_has_sdext2_partition" var2="1" />
					<condition var1="tw_rescue_ext_contents" var2="1" />
				</conditions>
				<font resource="font" />
				<placement x="%center_x%" y="%row15_text_y%" placement="5" />
				<text>/sdext2 contents will remain intact.</text>
			</object>

			<object type="slider">
				<condition var1="tw_has_sdext2_partition" var2="1" />
				<placement x="%slider_x%" y="%row17_text_y%" />
				<resource base="slider" used="slider-used" touch="slider-touch" />
				<action function="page">partsdcardaction</action>
				<actions>
					<action function="set">tw_back=convertext</action>
					<action function="set">tw_action=convertext2fs</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_action_text1=Re-formatting 2nd SD-Ext partition...</action>
					<action function="set">tw_action_text2=This will take a few minutes.</action>
					<action function="set">tw_complete_text1=Operation Completed</action>
					<action function="page">action_page</action>
				</actions>
			</object>

			<object type="text" color="%text_color%">
				<condition var1="tw_has_sdext2_partition" var2="1" />
				<font resource="font" />
				<placement x="%center_x%" y="%ext_slider2_text_y%" placement="4" />
				<text>Swipe to format SD-Ext 2</text>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">advanced</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="htcdumlock">
			<object type="template" name="header" />

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row1_header_y%" placement="5" />
				<text>HTC Dumlock</text>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<condition var1="tw_show_dumlock" var2="1" />
				<placement x="%col1_x%" y="%row1_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>Restore Original Boot</text>
				<image resource="main_button" />
				<actions>
					<action function="set">tw_back=htcdumlock</action>
					<action function="set">tw_action=htcdumlockrestoreboot</action>
					<action function="set">tw_text1=Restore original boot image?</action>
					<action function="set">tw_action_text1=Restoring Original Boot...</action>
					<action function="set">tw_complete_text1=Restore Original Boot Complete</action>
					<action function="set">tw_slider_text=Swipe to Confirm</action>
					<action function="page">confirm_action</action>
				</actions>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<condition var1="tw_show_dumlock" var2="1" />
				<placement x="%col2_x%" y="%row1_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>Reflash Recovery</text>
				<image resource="main_button" />
				<actions>
					<action function="set">tw_back=htcdumlock</action>
					<action function="set">tw_action=htcdumlockreflashrecovery</action>
					<action function="set">tw_text1=Reflash recovery to boot?</action>
					<action function="set">tw_action_text1=Flashing recovery to boot...</action>
					<action function="set">tw_complete_text1=Recovery Flash to Boot Complete</action>
					<action function="set">tw_slider_text=Swipe to Confirm</action>
					<action function="page">confirm_action</action>
				</actions>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<condition var1="tw_show_dumlock" var2="1" />
				<placement x="%col1_x%" y="%row2_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>Install HTC Dumlock</text>
				<image resource="main_button" />
				<actions>
					<action function="set">tw_back=htcdumlock</action>
					<action function="set">tw_action=installhtcdumlock</action>
					<action function="set">tw_text1=Install HTC dumlock files to ROM?</action>
					<action function="set">tw_action_text1=Installing HTC Dumlock...</action>
					<action function="set">tw_complete_text1=HTC Dumlock Install Complete</action>
					<action function="set">tw_slider_text=Swipe to Confirm</action>
					<action function="page">confirm_action</action>
				</actions>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">advanced</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="lock">
			<background color="#000000A0" />

			<object type="image">
				<image resource="unlock-icon" />
				<placement x="%lock_x%" y="%lock_y%" />
			</object>

			<object type="slider">
				<placement x="%slider_x%" y="%slider_y%" />
				<resource base="slider" used="slider-used" touch="slider-touch" />
				<action function="overlay"></action>
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="745" placement="4" />
				<text>Swipe to Unlock</text>
			</object>
		</page>

		<page name="filemanagerlist">
			<object type="template" name="header" />

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row1_header_y%" placement="5" />
				<text>File Manager: Select a File or Folder</text>
			</object>

			<object type="fileselector">
				<placement x="%fileselector_x%" y="%row1_text_y%" w="%fileselector_width%" h="%fileselector_install_height%" />
				<header background="%fileselector_header_background%" textcolor="%fileselector_header_textcolor%" separatorcolor="%fileselector_header_separatorcolor%" separatorheight="%fileselector_header_separatorheight%" />
				<fastscroll linecolor="%fastscroll_linecolor%" rectcolor="%fastscroll_rectcolor%" w="%fastscroll_w%" linew="%fastscroll_linew%" rectw="%fastscroll_rectw%" recth="%fastscroll_recth%" />
				<text>%tw_file_location1%</text>
				<separator color="%fileselector_separatorcolor%" height="%fileselector_separatorheight%" />
				<sort name="tw_gui_sort_order" />
				<icon folder="folder_icon" file="file_icon" />
				<background color="%fileselector_background%" />
				<highlight color="%fileselector_highlight_color%" />
				<font resource="filelist" spacing="%fileselector_spacing%" color="%text_color%" highlightcolor="%fileselector_highlight_font_color%" />
				<filter folders="1" files="1" />
				<path name="tw_file_location1" default="/" />
				<data name="tw_filename1" />
				<selection name="tw_selection1" />
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%ext_col1_x%" y="%row17_text_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>Storage: %tw_storage_display_name% (%tw_storage_free_size% MB)</text>
				<image resource="ext_main_button_big2" />
				<actions>
					<action function="set">tw_back=filemanagerlist</action>
					<action function="page">selectstorage</action>
				</actions>
			</object>

			<object type="template" name="sort_options" />

			<object type="action">
				<actions>
					<action function="set">tw_fm_type=File</action>
					<action function="set">tw_fm_isfolder=0</action>
				</actions>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">advanced</action>
			</object>

			<object type="action">
				<condition var1="tw_filename1" op="modified" />
				<actions>
					<action function="page">filemanagersizecalc</action>
				</actions>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%filemanager_select_x%" y="%filemanager_select_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>Select</text>
				<image resource="medium_button" />
				<actions>
					<action function="set">tw_filename1=tw_file_location1</action>
					<action function="set">tw_fm_isfolder=1</action>
					<action function="set">tw_fm_type=Folder</action>
					<action function="page">filemanagersizecalc</action>
				</actions>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="filemanagersizecalc">
			<object type="action">
				<condition var1="tw_fm_isfolder" var2="0" />
				<action function="getfilesize">%tw_filename1%</action>
				<action function="page">filemanageroptions</function>
			</object>

			<object type="action">
				<condition var1="tw_fm_isfolder" var2="1" />
				<action function="getfoldersize">%tw_filename1%</action>
				<action function="page">filemanageroptions</function>
			</object>
		</page>

		<page name="filemanageroptions">
			<object type="template" name="header" />

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row1_text_y%" placement="5"/>
				<text>%tw_fm_type% Selected:</text>
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row2_text_y%" placement="5"/>
				<text>%tw_filename1%</text>
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row3_text_y%" placement="5"/>
				<text>Size:</text>
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row4_text_y%" placement="5"/>
				<text>%tw_filename1_size% MB</text>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<condition var1="tw_fm_isfolder" var2="0" />
				<placement x="%ext_col1_x%" y="%ext_row5_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>Copy File</text>
				<image resource="ext_main_button_small" />
				<actions>
					<action function="set">tw_filemanager_command=cp</action>
					<action function="set">tw_fm_text1=Copying</action>
					<action function="page">choosedestinationfolder</action>
				</actions>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<condition var1="tw_fm_isfolder" var2="1" />
				<placement x="%ext_col1_x%" y="%ext_row5_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>Copy Folder</text>
				<image resource="ext_main_button_small" />
				<actions>
					<action function="set">tw_filemanager_command=cd &quot;%tw_file_location1%&quot; && cd .. && cp -R</action>
					<action function="set">tw_fm_text1=Copying</action>
					<action function="page">choosedestinationfolder</action>
				</actions>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%ext_col2_x%" y="%ext_row5_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>Move</text>
				<image resource="ext_main_button_small" />
				<actions>
					<action function="set">tw_filemanager_command=mv</action>
					<action function="set">tw_fm_text1=Moving</action>
					<action function="page">choosedestinationfolder</action>
				</actions>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%ext_col1_x%" y="%ext_row6_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>chmod 755</text>
				<image resource="ext_main_button_small" />
				<actions>
					<action function="set">tw_filemanager_command=chmod 755</action>
					<action function="set">tw_fm_text1=chmod 755</action>
					<action function="set">tw_fm_text2=</action>
					<action function="set">tw_fm_text3=</action>
					<action function="set">tw_include_text3=0</action>
					<action function="set">tw_back=filemanageroptions</action>
					<action function="page">filemanagerconfirm</action>
				</actions>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%ext_col2_x%" y="%ext_row6_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>chmod</text>
				<image resource="ext_main_button_small" />
				<actions>
					<action function="set">tw_filemanager_rename=0000</action>
					<action function="set">tw_fm_text2=</action>
					<action function="set">tw_fm_text3=</action>
					<action function="set">tw_include_text3=0</action>
					<action function="set">tw_back=filemanageroptions</action>
					<action function="page">filemanagerchmod</action>
				</actions>
			</object>

			<object type="button">
				<condition var1="tw_fm_isfolder" var2="0" />
				<highlight color="%highlight_color%" />
				<placement x="%ext_col1_x%" y="%ext_row7_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>View File</text>
				<image resource="main_button" />
				<action function="page">fileviewer</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<condition var1="tw_fm_isfolder" var2="0" />
				<placement x="%ext_col2_x%" y="%ext_row7_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>Rename File</text>
				<image resource="ext_main_button_small" />
				<actions>
					<action function="set">tw_filemanager_rename=tw_selection1</action>
					<action function="set">tw_fm_text1=Renaming</action>
					<action function="set">tw_filemanager_command=mv</action>
					<action function="page">filemanagerrenamefile</action>
				</actions>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<condition var1="tw_fm_isfolder" var2="1" />
				<placement x="%ext_col2_x%" y="%ext_row7_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>Rename Folder</text>
				<image resource="ext_main_button_small" />
				<actions>
					<action function="set">tw_filemanager_rename=tw_selection1</action>
					<action function="set">tw_fm_text1=Renaming</action>
					<action function="set">tw_filemanager_command=cd &quot;%tw_file_location1%&quot; && cd .. && mv</action>
					<action function="page">filemanagerrenamefolder</action>
				</actions>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%ext_col1_x%" y="%ext_row8_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>Delete</text>
				<image resource="ext_main_button_big" />
				<actions>
					<action function="set">tw_filemanager_command=rm -rf</action>
					<action function="set">tw_fm_text1=Deleting</action>
					<action function="set">tw_fm_text2=</action>
					<action function="set">tw_fm_text3=</action>
					<action function="set">tw_include_text3=0</action>
					<action function="set">tw_back=filemanageroptions</action>
					<action function="page">filemanagerconfirm</action>
				</actions>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">filemanagerlist</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="fileviewer">
			<object type="template" name="header" />

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row1_header_y%" placement="5"/>
				<text>%tw_filename1%</text>
			</object>

			<object type="console">
				<placement x="%console_x%" y="%row1_y%" w="%console_width%" h="600" />
				<color foreground="%console_foreground%" background="%console_background%" scroll="%console_scroll%" />
				<font resource="fixed" />
			</object>
	    	
			<object type="action">
				<action function="viewfile">%tw_filename1%</action>
			</object>

			<object type="action">
				<touch key="home" />
				<actions>
					<action function="cls"></action>
					<action function="page">main</action>
				</actions>
			</object>

			<object type="action">
				<touch key="back" />
				<actions>
					<action function="cls"></action>
					<action function="page">filemanageroptions</action>
				</actions>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="choosedestinationfolder">
			<object type="template" name="header" />

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row1_header_y%" placement="5"/>
				<text>Browse to Destination Folder & Press Select</text>
			</object>

			<object type="fileselector">
				<placement x="%fileselector_x%" y="%row1_y%" w="%fileselector_width%" h="%fileselector_install_height%" />
				<header background="%fileselector_header_background%" textcolor="%fileselector_header_textcolor%" separatorcolor="%fileselector_header_separatorcolor%" separatorheight="%fileselector_header_separatorheight%" />
				<fastscroll linecolor="%fastscroll_linecolor%" rectcolor="%fastscroll_rectcolor%" w="%fastscroll_w%" linew="%fastscroll_linew%" rectw="%fastscroll_rectw%" recth="%fastscroll_recth%" />
				<text>%tw_file_location2%</text>
				<separator color="%fileselector_separatorcolor%" height="%fileselector_separatorheight%" />
				<sort name="tw_gui_sort_order" />
				<icon folder="folder_icon" file="file_icon" />
				<background color="%fileselector_background%" />
				<highlight color="%fileselector_highlight_color%" />
				<font resource="filelist" spacing="%fileselector_spacing%" color="%text_color%" highlightcolor="%fileselector_highlight_font_color%" />
				<filter folders="1" files="0" />
				<path name="tw_file_location2" default="/" />
				<data name="tw_filename2" />
				<selection name="tw_selection2" />
			</object>

			<object type="template" name="sort_options" />

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">filemanageroptions</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%filemanager_select_x%" y="%filemanager_select_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>Select</text>
				<image resource="medium_button" />
				<actions>
					<action function="set">tw_fm_text2=to</action>
					<action function="set">tw_fm_text3=%tw_file_location2%</action>
					<action function="set">tw_include_text3=1</action>
					<action function="set">tw_back=filemanageroptions</action>
					<action function="page">filemanagerconfirm</action>
				</actions>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="filemanagerrenamefile">
			<object type="template" name="header" />

			<object type="text" color="%text_color%">
				<placement x="%center_x%" y="%row1_header_y%" placement="5" />
				<font resource="font" />
				<text>Please Enter a New %tw_fm_type% Name</text>
			</object>

			<object type="input">
				<placement x="%col1_x%" y="%row3_text_y%" w="%input_width%" h="%input_height%" placement="0" />
				<background color="%input_background_color%" />
				<cursor color="%input_cursor_color%" hasfocus="1" width="%input_cursor_width%" />
				<font resource="font" color="%text_color%" />
				<text>%tw_filemanager_rename%</text>
				<data name="tw_filemanager_rename" />
				<restrict minlen="1" maxlen="128" />
				<actions>
					<action function="set">tw_fm_text2=to</action>
					<action function="set">tw_fm_text3=&quot;%tw_file_location1%/%tw_filemanager_rename%&quot;</action>
					<action function="set">tw_include_text3=1</action>
					<action function="set">tw_back=filemanageroptions</action>
					<action function="page">filemanagerconfirm</action>
				</actions>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%col_center_x%" y="%ext_row4_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>Cancel</text>
				<image resource="main_button" />
				<action function="page">filemanageroptions</action>
			</object>

			<object type="template" name="keyboardtemplate" />

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">filemanageroptions</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="filemanagerrenamefolder">
			<object type="template" name="header" />

			<object type="text" color="%text_color%">
				<placement x="%center_x%" y="%row1_header_y%" placement="5" />
				<font resource="font" />
				<text>Please Enter a New %tw_fm_type% Name</text>
			</object>

			<object type="input">
				<placement x="%col1_x%" y="%row3_text_y%" w="%input_width%" h="%input_height%" placement="0" />
				<background color="%input_background_color%" />
				<cursor color="%input_cursor_color%" hasfocus="1" width="%input_cursor_width%" />
				<font resource="font" color="%text_color%" />
				<text>%tw_filemanager_rename%</text>
				<data name="tw_filemanager_rename" />
				<restrict minlen="1" maxlen="128" />
				<actions>
					<action function="set">tw_fm_text2=to</action>
					<action function="set">tw_fm_text3=%tw_filemanager_rename%</action>
					<action function="set">tw_include_text3=1</action>
					<action function="set">tw_back=filemanageroptions</action>
					<action function="page">filemanagerconfirm</action>
				</actions>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%col_center_x%" y="%ext_row4_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>Cancel</text>
				<image resource="main_button" />
				<action function="page">filemanageroptions</action>
			</object>

			<object type="template" name="keyboardtemplate" />

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">filemanageroptions</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="filemanagerchmod">
			<object type="template" name="header" />

			<object type="text" color="%text_color%">
				<placement x="%center_x%" y="%row1_header_y%" placement="5" />
				<font resource="font" />
				<text>Please Enter New Permissions</text>
			</object>

			<object type="input">
				<placement x="%col1_x%" y="%row3_text_y%" w="%input_width%" h="%input_height%" placement="0" />
				<background color="%input_background_color%" />
				<cursor color="%input_cursor_color%" hasfocus="1" width="%input_cursor_width%" />
				<font resource="font" color="%text_color%" />
				<text>%tw_filemanager_rename%</text>
				<data name="tw_filemanager_rename" />
				<restrict minlen="3" maxlen="4" allow="0123456789" />
				<actions>
					<action function="set">tw_filemanager_command=chmod %tw_filemanager_rename%</action>
					<action function="set">tw_fm_text1=chmod %tw_filemanager_rename%</action>
					<action function="set">tw_back=filemanageroptions</action>
					<action function="page">filemanagerconfirm</action>
				</actions>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%col_center_x%" y="%ext_row4_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>Cancel</text>
				<image resource="main_button" />
				<action function="page">filemanageroptions</action>
			</object>

			<object type="template" name="keyboardtemplate" />

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">filemanageroptions</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="filemanagerconfirm">
			<object type="template" name="header" />

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row1_text_y%" placement="5"/>
				<text>%tw_fm_text1%</text>
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row2_text_y%" placement="5"/>
				<text>%tw_filename1%</text>
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row3_text_y%" placement="5"/>
				<text>%tw_fm_text2%</text>
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row4_text_y%" placement="5"/>
				<text>%tw_fm_text3%</text>
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row10_text_y%" placement="5"/>
				<text>Press back button to cancel.</text>
			</object>

			<object type="slider">
				<placement x="%slider_x%" y="%slider_y%" />
				<resource base="slider" used="slider-used" touch="slider-touch" />
				<action function="page">filemanageracction</action>
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%slider_text_y%" placement="4" />
				<text>Swipe to Confirm</text>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">%tw_back%</action>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="filemanageracction">
			<object type="template" name="header" />

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row1_text_y%" placement="5" />
				<text>%tw_fm_text1%</text>
			</object>

			<object type="template" name="action_page_console" />

			<object type="template" name="progress_bar" />

			<object type="action">
				<conditions>
					<condition var1="tw_operation_state" var2="1" />
					<condition var1="tw_operation_status" var2="0" />
				</conditions>
				<actions>
					<action function="set">tw_back=filemanagerlist</action>
					<action function="set">tw_complete_text1=File Operation Complete</action>
					<action function="page">action_complete</action>
				</actions>
			</object>

			<object type="action">
				<conditions>
					<condition var1="tw_operation_state" var2="1" />
					<condition var1="tw_operation_status" op="!=" var2="0" />
				</conditions>
				<actions>
					<action function="set">tw_complete_text1=File Operation Complete</action>
					<action function="page">action_complete</action>
				</actions>
			</object>

			<object type="action">
				<condition var1="tw_include_text3" var2="0" />
				<actions>
					<action function="cmd">%tw_filemanager_command% &quot;%tw_filename1%&quot;</action>
				</actions>
			</object>

			<object type="action">
				<condition var1="tw_include_text3" var2="1" />
				<actions>
					<action function="cmd">%tw_filemanager_command% &quot;%tw_filename1%&quot; &quot;%tw_fm_text3%&quot;</action>
				</actions>
			</object>
		</page>

		<page name="decrypt">
			<object type="template" name="header" />

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row1_header_y%" placement="5" />
				<text>Please Enter Your Password</text>
			</object>

			<object type="input">
				<placement x="%col1_x%" y="%row3_text_y%" w="%input_width%" h="%input_height%" placement="0" />
				<background color="%input_background_color%" />
				<cursor color="%input_cursor_color%" hasfocus="1" width="%input_cursor_width%" />
				<font resource="font" color="%text_color%" />
				<text>%tw_crypto_display%</text>
				<data name="tw_crypto_password" mask="*" maskvariable="tw_crypto_display" />
				<restrict minlen="1" maxlen="254" />
				<actions>
					<action function="page">trydecrypt</action>
				</actions>
			</object>

			<object type="text" color="%text_fail_color%">
				<condition var1="tw_password_fail" var2="1" />
				<font resource="font" />
				<placement x="%center_x%" y="%row4_text_y%" placement="5" />
				<text>Password Failed, Please Try Again</text>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%col_center_x%" y="%ext_row4_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>Cancel</text>
				<image resource="main_button" />
				<actions>
					<action function="set">tw_page_done=1</action>
					<action function="page">main</action>
				</actions>
			</object>

			<object type="template" name="keyboardtemplate" />

			<object type="template" name="footer" />
		</page>

		<page name="trydecrypt">
			<object type="template" name="header" />

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row1_text_y%" placement="5" />
				<text>Trying Decryption with Your Password</text>
			</object>

			<object type="template" name="action_page_console" />

			<object type="template" name="progress_bar" />

			<object type="action">
				<action function="decrypt"></action>
			</object>

			<object type="action">
				<conditions>
					<condition var1="tw_operation_state" var2="1" />
					<condition var1="tw_operation_status" op="!=" var2="0" />
				</conditions>
				<actions>
					<action function="set">tw_password_fail=1</action>
					<action function="page">decrypt</action>
				</actions>
			</object>

			<object type="action">
				<conditions>
					<condition var1="tw_operation_state" var2="1" />
					<condition var1="tw_operation_status" op="=" var2="0" />
				</conditions>
				<actions>
					<action function="set">tw_page_done=1</action>
					<action function="page">main</action>
				</actions>
			</object>
		</page>

		<page name="terminalfolder">
			<object type="template" name="header" />

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row1_header_y%" placement="5"/>
				<text>Browse to Starting Folder</text>
			</object>

			<object type="fileselector">
				<placement x="%fileselector_x%" y="%row1_text_y%" w="%fileselector_width%" h="%fileselector_install_height%" />
				<header background="%fileselector_header_background%" textcolor="%fileselector_header_textcolor%" separatorcolor="%fileselector_header_separatorcolor%" separatorheight="%fileselector_header_separatorheight%" />
				<fastscroll linecolor="%fastscroll_linecolor%" rectcolor="%fastscroll_rectcolor%" w="%fastscroll_w%" linew="%fastscroll_linew%" rectw="%fastscroll_rectw%" recth="%fastscroll_recth%" />
				<text>%tw_terminal_location%</text>
				<separator color="%fileselector_separatorcolor%" height="%fileselector_separatorheight%" />
				<sort name="tw_gui_sort_order" />
				<icon folder="folder_icon" file="file_icon" />
				<background color="%fileselector_background%" />
				<highlight color="%fileselector_highlight_color%" />
				<font resource="filelist" spacing="%fileselector_spacing%" color="%text_color%" highlightcolor="%fileselector_highlight_font_color%" />
				<filter folders="1" files="0" />
				<path name="tw_terminal_location" default="/" />
				<data name="tw_terminal" />
				<selection name="tw_terminal_selection" />
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%ext_col1_x%" y="%row17_text_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>Storage: %tw_storage_display_name% (%tw_storage_free_size% MB)</text>
				<image resource="ext_main_button_big2" />
				<actions>
					<action function="set">tw_back=terminalfolder</action>
					<action function="page">selectstorage</action>
				</actions>
			</object>

			<object type="template" name="sort_options" />

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">advanced</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%filemanager_select_x%" y="%filemanager_select_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>Select</text>
				<image resource="medium_button" />
				<actions>
					<action function="page">terminalcommand</action>
				</actions>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="terminalcommand">
			<object type="template" name="header" />

			<object type="console">
				<placement x="%console_x%" y="0" w="%console_width%" h="%terminal_console_height%" />
				<color foreground="%console_foreground%" background="%console_background%" scroll="%console_scroll%" />
				<font resource="fixed" />
			</object>

			<object type="text" color="%text_color%">
				<placement x="%col1_x%" y="%terminal_text_y%" placement="0" />
				<font resource="font" />
				<text>Starting Path: %tw_terminal_location%</text>
			</object>

			<object type="input">
				<condition var1="tw_terminal_state" var2="0" />
				<placement x="%col1_x%" y="%terminal_text_y%" w="%input_width%" h="%input_height%" placement="0" />
				<background color="%input_background_color%" />
				<cursor color="%input_cursor_color%" hasfocus="1" width="%input_cursor_width%" />
				<font resource="font" color="%text_color%" />
				<text>%tw_terminal_command%</text>
				<data name="tw_terminal_command" />
				<restrict minlen="1" />
				<action function="terminalcommand">%tw_terminal_command%</action>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<condition var1="tw_terminal_state" var2="1" />
				<placement x="%filemanager_select_x%" y="%terminal_button_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>KILL</text>
				<image resource="medium_button" />
				<action function="killterminal"></action>
			</object>

			<object type="template" name="keyboardtemplate" />

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">terminalfolder</action>
			</object>
		</page>

		<page name="sideload">
			<object type="template" name="header" />

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row1_header_y%" placement="5"/>
				<text>ADB Sideload</text>
			</object>

			<object type="checkbox">
				<placement x="%col1_x%" y="%row2_text_y%" />
				<font resource="font" color="%text_color%" />
				<text>Wipe Dalvik Cache.</text>
				<data variable="tw_wipe_dalvik" />
				<image checked="checkbox_true" unchecked="checkbox_false" />
			</object>

			<object type="checkbox">
				<placement x="%col1_x%" y="%row3_text_y%" />
				<font resource="font" color="%text_color%" />
				<text>Wipe Cache.</text>
				<data variable="tw_wipe_cache" />
				<image checked="checkbox_true" unchecked="checkbox_false" />
			</object>

			<object type="slider">
				<placement x="%slider_x%" y="%slider_y%" />
				<resource base="slider" used="slider-used" touch="slider-touch" />
				<actions>
					<action function="set">tw_back=advanced</action>
					<action function="set">tw_action=adbsideload</action>
					<action function="set">tw_action_text1=ADB Sideload</action>
					<action function="set">tw_action_text2=Usage: adb sideload filename.zip</action>
					<action function="set">tw_complete_text1=ADB Sideload Complete</action>
					<action function="set">tw_has_cancel=1</action>
					<action function="set">tw_show_reboot=1</action>
					<action function="set">tw_cancel_action=adbsideloadcancel</action>
					<action function="page">action_page</action>
				</actions>
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%slider_text_y%" placement="4" />
				<text>Swipe to Start Sideload</text>
			</object>

			<object type="action">
				<touch key="home" />
				<action function="page">main</action>
			</object>

			<object type="action">
				<touch key="back" />
				<action function="page">advanced</action>
			</object>

			<object type="template" name="footer" />
		</page>

		<page name="installsu">
			<object type="template" name="header" />

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row1_header_y%" placement="5"/>
				<text>Install SuperSU?</text>
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row2_text_y%" placement="5"/>
				<text>Your device does not appear to be rooted.</text>
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row3_text_y%" placement="5"/>
				<text>Install SuperSU now?</text>
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%row4_text_y%" placement="5"/>
				<text>This will root your device.</text>
			</object>

			<object type="button">
				<highlight color="%highlight_color%" />
				<placement x="%col_center_x%" y="%row3_y%" />
				<font resource="font" color="%button_text_color%" />
				<text>Do Not Install</text>
				<image resource="main_button" />
				<action function="set">tw_page_done=1</action>
			</object>

			<object type="slider">
				<placement x="%slider_x%" y="%slider_y%" />
				<resource base="slider" used="slider-used" touch="slider-touch" />
				<actions>
					<action function="set">tw_action=installsu</action>
					<action function="set">tw_action_text1=Installing SuperSU</action>
					<action function="set">tw_action_text2=</action>
					<action function="page">singleaction_page</action>
				</actions>
			</object>

			<object type="text" color="%text_color%">
				<font resource="font" />
				<placement x="%center_x%" y="%slider_text_y%" placement="4" />
				<text>Swipe to Install</text>
			</object>
		</page>
	</pages>
</recovery>
